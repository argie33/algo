ğŸš€ Starting Contract Test Runner
==================================================

ğŸŒ Testing environment: test (http://localhost:3001)

ğŸŒ Running site functionality tests...


ğŸ“‹ Testing workflow: Portfolio Dashboard Load
ğŸ” Testing GET /api/health...
âœ… GET /api/health - Contract valid
ğŸ” Testing GET /api/portfolio...
âœ… GET /api/portfolio - Contract valid
ğŸ” Testing GET /api/portfolio/positions...
âœ… GET /api/portfolio/positions - Contract valid
âœ… Workflow 'Portfolio Dashboard Load' completed successfully

ğŸ“‹ Testing workflow: Market Data Access
ğŸ” Testing GET /api/market/overview...
âœ… GET /api/market/overview - Contract valid
ğŸ” Testing GET /api/calendar/earnings...
âœ… GET /api/calendar/earnings - Contract valid
âœ… Workflow 'Market Data Access' completed successfully

ğŸ“‹ Testing workflow: System Diagnostics
ğŸ” Testing GET /api/diagnostics/database-connectivity...
âœ… GET /api/diagnostics/database-connectivity - Contract valid
ğŸ” Testing GET /api/diagnostics...
âœ… GET /api/diagnostics - Contract valid
âœ… Workflow 'System Diagnostics' completed successfully

ğŸ“‹ Running remaining contract tests...

ğŸ” Testing GET /api/portfolio/performance...
âœ… GET /api/portfolio/performance - Contract valid
ğŸ” Testing GET /api/alerts/active...
âœ… GET /api/alerts/active - Contract valid
ğŸ” Testing GET /api/backtest/strategies...
âœ… GET /api/backtest/strategies - Contract valid
ğŸ” Testing GET /api/portfolio/holdings...
âœ… GET /api/portfolio/holdings - Contract valid
ğŸ” Testing GET /api/portfolio/value...
âœ… GET /api/portfolio/value - Contract valid
ğŸ” Testing GET /api/portfolio/analytics...
âœ… GET /api/portfolio/analytics - Contract valid
ğŸ” Testing GET /api/portfolio/transactions...
âœ… GET /api/portfolio/transactions - Contract valid
ğŸ” Testing GET /api/portfolio/summary...
âœ… GET /api/portfolio/summary - Contract valid
ğŸ” Testing GET /api/portfolio/metrics...
âœ… GET /api/portfolio/metrics - Contract valid
ğŸ” Testing GET /api/market...
âœ… GET /api/market - Contract valid
ğŸ” Testing GET /api/stocks...
âœ… GET /api/stocks - Contract valid
ğŸ” Testing GET /api/technical...
âœ… GET /api/technical - Contract valid
ğŸ” Testing GET /api/live-data...
âœ… GET /api/live-data - Contract valid
ğŸ” Testing GET /api/live-data/status...
âŒ GET /api/live-data/status - Contract violations:
   â€¢ Field 'status' expected object, got string
ğŸ” Testing GET /api/analytics...
âœ… GET /api/analytics - Contract valid
ğŸ” Testing GET /api/performance...
âŒ GET /api/performance - Contract violations:
   â€¢ Missing required field for status 200: data
ğŸ” Testing GET /api/risk...
âŒ GET /api/risk - Contract violations:
   â€¢ Missing required field for status 200: data
ğŸ” Testing GET /api/news...
âŒ GET /api/news - Contract violations:
   â€¢ Missing required field: data
   â€¢ Missing required field: data
ğŸ” Testing GET /api/signals...
âŒ GET /api/signals - Contract violations:
   â€¢ Missing required field: signals
   â€¢ Missing required field: signals
ğŸ” Testing GET /api/trading...
âŒ GET /api/trading - Contract violations:
   â€¢ Missing required field for status 200: data
ğŸ” Testing GET /api/orders...
âŒ GET /api/orders - Contract violations:
   â€¢ Missing required field for status 200: orders
ğŸ” Testing GET /api/watchlist...
âœ… GET /api/watchlist - Contract valid
ğŸ” Testing GET /api/screener...
âœ… GET /api/screener - Contract valid
ğŸ” Testing GET /api/scores...
âŒ GET /api/scores - Contract violations:
   â€¢ Field 'data' expected object, got array
ğŸ” Testing GET /api/metrics...
âŒ GET /api/metrics - Contract violations:
   â€¢ Missing required field: success
   â€¢ Missing required field: metrics
   â€¢ Missing required field: success
   â€¢ Missing required field: metrics
ğŸ” Testing GET /api/sectors...
âœ… GET /api/sectors - Contract valid
ğŸ” Testing GET /api/sentiment...
âŒ GET /api/sentiment - Contract violations:
   â€¢ Missing required field: data
   â€¢ Missing required field: data
ğŸ” Testing GET /api/etf...
âŒ GET /api/etf - Contract violations:
   â€¢ Missing required field: success
   â€¢ Missing required field: data
   â€¢ Missing required field: success
   â€¢ Missing required field: data

ğŸ“Š CONTRACT TEST REPORT
==================================================
Total Tests: 35
Passed: 24
Failed: 11
Success Rate: 68.57%

âŒ FAILURES:
1. GET /api/live-data/status
   â€¢ Field 'status' expected object, got string
2. GET /api/performance
   â€¢ Missing required field for status 200: data
3. GET /api/risk
   â€¢ Missing required field for status 200: data
4. GET /api/news
   â€¢ Missing required field: data
   â€¢ Missing required field: data
5. GET /api/signals
   â€¢ Missing required field: signals
   â€¢ Missing required field: signals
6. GET /api/trading
   â€¢ Missing required field for status 200: data
7. GET /api/orders
   â€¢ Missing required field for status 200: orders
8. GET /api/scores
   â€¢ Field 'data' expected object, got array
9. GET /api/metrics
   â€¢ Missing required field: success
   â€¢ Missing required field: metrics
   â€¢ Missing required field: success
   â€¢ Missing required field: metrics
10. GET /api/sentiment
   â€¢ Missing required field: data
   â€¢ Missing required field: data
11. GET /api/etf
   â€¢ Missing required field: success
   â€¢ Missing required field: data
   â€¢ Missing required field: success
   â€¢ Missing required field: data

ğŸ“„ Detailed report saved to: /home/stocks/algo/webapp/lambda/tests/contract/contract-test-report.json
