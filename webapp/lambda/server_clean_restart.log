
> financial-dashboard-lambda@1.0.0 start
> node index.js

Cognito environment variables not set - JWT verification disabled
ğŸš¨ Alert System initialized
ğŸ“Š Monitoring started
ğŸ” Alert monitoring started
ğŸš¨ Alert system integration initialized
ğŸ›ï¸ Live Data Manager initialized
Financial Dashboard API server running on port 3001 (local mode)
Health check: http://localhost:3001/health
Stocks: http://localhost:3001/stocks
Technical: http://localhost:3001/technical/daily
Processing request: GET /health
Endpoint does not require database connection
Starting health check with database...
Database not initialized, initializing now...
Initializing database connection pool...
Using database config from environment variables
Database config loaded from environment: localhost:5432/stocks
âœ… Database connection pool initialized successfully
Initializing database schema...
âœ… Created/verified table: stock_symbols
âœ… Created/verified table: company_profile
âœ… Created/verified table: technical_data_daily
âœ… Created/verified table: technical_data_weekly
âœ… Created/verified table: technical_data_monthly
âœ… Created/verified table: stocks
âœ… Created/verified table: portfolio_holdings
âœ… Created/verified table: portfolio_performance
âœ… Created/verified table: buy_sell_daily
âœ… Created/verified table: buy_sell_weekly
âœ… Created/verified table: buy_sell_monthly
âœ… Created/verified table: portfolio_transactions
âœ… Created/verified table: technical_indicators
âœ… Created/verified table: market_sentiment
âœ… Created/verified table: price_alerts
âœ… Created/verified table: stock_scores
âœ… Created/verified table: key_metrics
âœ… Created/verified table: dividend_calendar
âœ… Created/verified table: trading_strategies
âœ… Created/verified table: user_risk_limits
âœ… Created/verified table: trade_history
âœ… Created/verified table: portfolio_summary
âœ… Created/verified table: user_dashboard_settings
âœ… Database schema initialization completed
::1 - - [12/Sep/2025:03:17:54 +0000] "GET /health HTTP/1.1" 200 330 "-" "curl/8.5.0"
Processing request: GET /api/financials/AAPL/annual/balance-sheet
Initializing database connection...
Database connection established successfully
Database connection verified for database-dependent endpoint
::1 - - [12/Sep/2025:03:17:54 +0000] "GET /api/financials/AAPL/annual/balance-sheet HTTP/1.1" 404 686 "-" "curl/8.5.0"
Processing request: GET /api/news/recent
Database connection verified for database-dependent endpoint
ğŸ“° Recent news requested, limit: 3, hours: 24
Database query error: {
  error: 'column "title" does not exist',
  query: '\n' +
    '      SELECT \n' +
    '        title, summary, url, source, category, published_at,\n' +
    '        sentiment, symbo...',
  params: '1 parameters',
  code: '42703'
}
Recent news error: error: column "title" does not exist
    at /home/stocks/algo/webapp/lambda/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async query (/home/stocks/algo/webapp/lambda/utils/database.js:920:20)
    at async /home/stocks/algo/webapp/lambda/routes/news.js:66:20 {
  length: 105,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '24',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
/home/stocks/algo/webapp/lambda/routes/news.js:126
            filters_applied: { symbol, category, limit, offset }
                               ^

ReferenceError: symbol is not defined
    at /home/stocks/algo/webapp/lambda/routes/news.js:126:32
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

Node.js v20.19.4
