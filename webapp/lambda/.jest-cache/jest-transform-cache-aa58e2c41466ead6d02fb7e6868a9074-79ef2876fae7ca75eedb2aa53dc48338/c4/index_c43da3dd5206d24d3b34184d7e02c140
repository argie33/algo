49f675712760e6f104c57a1ed13f5214
"use strict";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __name = (target, value) => __defProp(target, "name", {
  value,
  configurable: true
});
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/index.ts
var index_exports = {};
__export(index_exports, {
  ENV_ACCOUNT_ID: () => ENV_ACCOUNT_ID,
  ENV_CREDENTIAL_SCOPE: () => ENV_CREDENTIAL_SCOPE,
  ENV_EXPIRATION: () => ENV_EXPIRATION,
  ENV_KEY: () => ENV_KEY,
  ENV_SECRET: () => ENV_SECRET,
  ENV_SESSION: () => ENV_SESSION,
  fromEnv: () => fromEnv
});
module.exports = __toCommonJS(index_exports);

// src/fromEnv.ts
var import_client = require("@aws-sdk/core/client");
var import_property_provider = require("@smithy/property-provider");
var ENV_KEY = "AWS_ACCESS_KEY_ID";
var ENV_SECRET = "AWS_SECRET_ACCESS_KEY";
var ENV_SESSION = "AWS_SESSION_TOKEN";
var ENV_EXPIRATION = "AWS_CREDENTIAL_EXPIRATION";
var ENV_CREDENTIAL_SCOPE = "AWS_CREDENTIAL_SCOPE";
var ENV_ACCOUNT_ID = "AWS_ACCOUNT_ID";
var fromEnv = /* @__PURE__ */__name(init => async () => {
  init?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");
  const accessKeyId = process.env[ENV_KEY];
  const secretAccessKey = process.env[ENV_SECRET];
  const sessionToken = process.env[ENV_SESSION];
  const expiry = process.env[ENV_EXPIRATION];
  const credentialScope = process.env[ENV_CREDENTIAL_SCOPE];
  const accountId = process.env[ENV_ACCOUNT_ID];
  if (accessKeyId && secretAccessKey) {
    const credentials = {
      accessKeyId,
      secretAccessKey,
      ...(sessionToken && {
        sessionToken
      }),
      ...(expiry && {
        expiration: new Date(expiry)
      }),
      ...(credentialScope && {
        credentialScope
      }),
      ...(accountId && {
        accountId
      })
    };
    (0, import_client.setCredentialFeature)(credentials, "CREDENTIALS_ENV_VARS", "g");
    return credentials;
  }
  throw new import_property_provider.CredentialsProviderError("Unable to find environment variable credentials.", {
    logger: init?.logger
  });
}, "fromEnv");
// Annotate the CommonJS export names for ESM import in node:

0 && (module.exports = {
  ENV_KEY,
  ENV_SECRET,
  ENV_SESSION,
  ENV_EXPIRATION,
  ENV_CREDENTIAL_SCOPE,
  ENV_ACCOUNT_ID,
  fromEnv
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZ2V0T3duUHJvcERlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2dldE93blByb3BOYW1lcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJfX2hhc093blByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fbmFtZSIsInRhcmdldCIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwiX19leHBvcnQiLCJhbGwiLCJuYW1lIiwiZ2V0IiwiZW51bWVyYWJsZSIsIl9fY29weVByb3BzIiwidG8iLCJmcm9tIiwiZXhjZXB0IiwiZGVzYyIsImtleSIsImNhbGwiLCJfX3RvQ29tbW9uSlMiLCJtb2QiLCJpbmRleF9leHBvcnRzIiwiRU5WX0FDQ09VTlRfSUQiLCJFTlZfQ1JFREVOVElBTF9TQ09QRSIsIkVOVl9FWFBJUkFUSU9OIiwiRU5WX0tFWSIsIkVOVl9TRUNSRVQiLCJFTlZfU0VTU0lPTiIsImZyb21FbnYiLCJtb2R1bGUiLCJleHBvcnRzIiwiaW1wb3J0X2NsaWVudCIsInJlcXVpcmUiLCJpbXBvcnRfcHJvcGVydHlfcHJvdmlkZXIiLCJpbml0IiwibG9nZ2VyIiwiZGVidWciLCJhY2Nlc3NLZXlJZCIsInByb2Nlc3MiLCJlbnYiLCJzZWNyZXRBY2Nlc3NLZXkiLCJzZXNzaW9uVG9rZW4iLCJleHBpcnkiLCJjcmVkZW50aWFsU2NvcGUiLCJhY2NvdW50SWQiLCJjcmVkZW50aWFscyIsImV4cGlyYXRpb24iLCJEYXRlIiwic2V0Q3JlZGVudGlhbEZlYXR1cmUiLCJDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIGluZGV4X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGluZGV4X2V4cG9ydHMsIHtcbiAgRU5WX0FDQ09VTlRfSUQ6ICgpID0+IEVOVl9BQ0NPVU5UX0lELFxuICBFTlZfQ1JFREVOVElBTF9TQ09QRTogKCkgPT4gRU5WX0NSRURFTlRJQUxfU0NPUEUsXG4gIEVOVl9FWFBJUkFUSU9OOiAoKSA9PiBFTlZfRVhQSVJBVElPTixcbiAgRU5WX0tFWTogKCkgPT4gRU5WX0tFWSxcbiAgRU5WX1NFQ1JFVDogKCkgPT4gRU5WX1NFQ1JFVCxcbiAgRU5WX1NFU1NJT046ICgpID0+IEVOVl9TRVNTSU9OLFxuICBmcm9tRW52OiAoKSA9PiBmcm9tRW52XG59KTtcbm1vZHVsZS5leHBvcnRzID0gX190b0NvbW1vbkpTKGluZGV4X2V4cG9ydHMpO1xuXG4vLyBzcmMvZnJvbUVudi50c1xudmFyIGltcG9ydF9jbGllbnQgPSByZXF1aXJlKFwiQGF3cy1zZGsvY29yZS9jbGllbnRcIik7XG52YXIgaW1wb3J0X3Byb3BlcnR5X3Byb3ZpZGVyID0gcmVxdWlyZShcIkBzbWl0aHkvcHJvcGVydHktcHJvdmlkZXJcIik7XG52YXIgRU5WX0tFWSA9IFwiQVdTX0FDQ0VTU19LRVlfSURcIjtcbnZhciBFTlZfU0VDUkVUID0gXCJBV1NfU0VDUkVUX0FDQ0VTU19LRVlcIjtcbnZhciBFTlZfU0VTU0lPTiA9IFwiQVdTX1NFU1NJT05fVE9LRU5cIjtcbnZhciBFTlZfRVhQSVJBVElPTiA9IFwiQVdTX0NSRURFTlRJQUxfRVhQSVJBVElPTlwiO1xudmFyIEVOVl9DUkVERU5USUFMX1NDT1BFID0gXCJBV1NfQ1JFREVOVElBTF9TQ09QRVwiO1xudmFyIEVOVl9BQ0NPVU5UX0lEID0gXCJBV1NfQUNDT1VOVF9JRFwiO1xudmFyIGZyb21FbnYgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbml0KSA9PiBhc3luYyAoKSA9PiB7XG4gIGluaXQ/LmxvZ2dlcj8uZGVidWcoXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWVudiAtIGZyb21FbnZcIik7XG4gIGNvbnN0IGFjY2Vzc0tleUlkID0gcHJvY2Vzcy5lbnZbRU5WX0tFWV07XG4gIGNvbnN0IHNlY3JldEFjY2Vzc0tleSA9IHByb2Nlc3MuZW52W0VOVl9TRUNSRVRdO1xuICBjb25zdCBzZXNzaW9uVG9rZW4gPSBwcm9jZXNzLmVudltFTlZfU0VTU0lPTl07XG4gIGNvbnN0IGV4cGlyeSA9IHByb2Nlc3MuZW52W0VOVl9FWFBJUkFUSU9OXTtcbiAgY29uc3QgY3JlZGVudGlhbFNjb3BlID0gcHJvY2Vzcy5lbnZbRU5WX0NSRURFTlRJQUxfU0NPUEVdO1xuICBjb25zdCBhY2NvdW50SWQgPSBwcm9jZXNzLmVudltFTlZfQUNDT1VOVF9JRF07XG4gIGlmIChhY2Nlc3NLZXlJZCAmJiBzZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHtcbiAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgc2VjcmV0QWNjZXNzS2V5LFxuICAgICAgLi4uc2Vzc2lvblRva2VuICYmIHsgc2Vzc2lvblRva2VuIH0sXG4gICAgICAuLi5leHBpcnkgJiYgeyBleHBpcmF0aW9uOiBuZXcgRGF0ZShleHBpcnkpIH0sXG4gICAgICAuLi5jcmVkZW50aWFsU2NvcGUgJiYgeyBjcmVkZW50aWFsU2NvcGUgfSxcbiAgICAgIC4uLmFjY291bnRJZCAmJiB7IGFjY291bnRJZCB9XG4gICAgfTtcbiAgICAoMCwgaW1wb3J0X2NsaWVudC5zZXRDcmVkZW50aWFsRmVhdHVyZSkoY3JlZGVudGlhbHMsIFwiQ1JFREVOVElBTFNfRU5WX1ZBUlNcIiwgXCJnXCIpO1xuICAgIHJldHVybiBjcmVkZW50aWFscztcbiAgfVxuICB0aHJvdyBuZXcgaW1wb3J0X3Byb3BlcnR5X3Byb3ZpZGVyLkNyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIlVuYWJsZSB0byBmaW5kIGVudmlyb25tZW50IHZhcmlhYmxlIGNyZWRlbnRpYWxzLlwiLCB7IGxvZ2dlcjogaW5pdD8ubG9nZ2VyIH0pO1xufSwgXCJmcm9tRW52XCIpO1xuLy8gQW5ub3RhdGUgdGhlIENvbW1vbkpTIGV4cG9ydCBuYW1lcyBmb3IgRVNNIGltcG9ydCBpbiBub2RlOlxuXG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgRU5WX0tFWSxcbiAgRU5WX1NFQ1JFVCxcbiAgRU5WX1NFU1NJT04sXG4gIEVOVl9FWFBJUkFUSU9OLFxuICBFTlZfQ1JFREVOVElBTF9TQ09QRSxcbiAgRU5WX0FDQ09VTlRfSUQsXG4gIGZyb21FbnZcbn0pO1xuXG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osSUFBSUEsU0FBUyxHQUFHQyxNQUFNLENBQUNDLGNBQWM7QUFDckMsSUFBSUMsZ0JBQWdCLEdBQUdGLE1BQU0sQ0FBQ0csd0JBQXdCO0FBQ3RELElBQUlDLGlCQUFpQixHQUFHSixNQUFNLENBQUNLLG1CQUFtQjtBQUNsRCxJQUFJQyxZQUFZLEdBQUdOLE1BQU0sQ0FBQ08sU0FBUyxDQUFDQyxjQUFjO0FBQ2xELElBQUlDLE1BQU0sR0FBR0EsQ0FBQ0MsTUFBTSxFQUFFQyxLQUFLLEtBQUtaLFNBQVMsQ0FBQ1csTUFBTSxFQUFFLE1BQU0sRUFBRTtFQUFFQyxLQUFLO0VBQUVDLFlBQVksRUFBRTtBQUFLLENBQUMsQ0FBQztBQUN4RixJQUFJQyxRQUFRLEdBQUdBLENBQUNILE1BQU0sRUFBRUksR0FBRyxLQUFLO0VBQzlCLEtBQUssSUFBSUMsSUFBSSxJQUFJRCxHQUFHLEVBQ2xCZixTQUFTLENBQUNXLE1BQU0sRUFBRUssSUFBSSxFQUFFO0lBQUVDLEdBQUcsRUFBRUYsR0FBRyxDQUFDQyxJQUFJLENBQUM7SUFBRUUsVUFBVSxFQUFFO0VBQUssQ0FBQyxDQUFDO0FBQ2pFLENBQUM7QUFDRCxJQUFJQyxXQUFXLEdBQUdBLENBQUNDLEVBQUUsRUFBRUMsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLElBQUksS0FBSztFQUM1QyxJQUFJRixJQUFJLElBQUksT0FBT0EsSUFBSSxLQUFLLFFBQVEsSUFBSSxPQUFPQSxJQUFJLEtBQUssVUFBVSxFQUFFO0lBQ2xFLEtBQUssSUFBSUcsR0FBRyxJQUFJbkIsaUJBQWlCLENBQUNnQixJQUFJLENBQUMsRUFDckMsSUFBSSxDQUFD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