0481c872f9f95f7851a5c2458901120b
"use strict";

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __name = (target, value) => __defProp(target, "name", {
  value,
  configurable: true
});
var __export = (target, all) => {
  for (var name in all) __defProp(target, name, {
    get: all[name],
    enumerable: true
  });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {
      get: () => from[key],
      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable
    });
  }
  return to;
};
var __toCommonJS = mod => __copyProps(__defProp({}, "__esModule", {
  value: true
}), mod);

// src/submodules/httpAuthSchemes/index.ts
var index_exports = {};
__export(index_exports, {
  AWSSDKSigV4Signer: () => AWSSDKSigV4Signer,
  AwsSdkSigV4ASigner: () => AwsSdkSigV4ASigner,
  AwsSdkSigV4Signer: () => AwsSdkSigV4Signer,
  NODE_AUTH_SCHEME_PREFERENCE_OPTIONS: () => NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,
  NODE_SIGV4A_CONFIG_OPTIONS: () => NODE_SIGV4A_CONFIG_OPTIONS,
  getBearerTokenEnvKey: () => getBearerTokenEnvKey,
  resolveAWSSDKSigV4Config: () => resolveAWSSDKSigV4Config,
  resolveAwsSdkSigV4AConfig: () => resolveAwsSdkSigV4AConfig,
  resolveAwsSdkSigV4Config: () => resolveAwsSdkSigV4Config,
  validateSigningProperties: () => validateSigningProperties
});
module.exports = __toCommonJS(index_exports);

// src/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.ts
var import_protocol_http2 = require("@smithy/protocol-http");

// src/submodules/httpAuthSchemes/utils/getDateHeader.ts
var import_protocol_http = require("@smithy/protocol-http");
var getDateHeader = /* @__PURE__ */__name(response => import_protocol_http.HttpResponse.isInstance(response) ? response.headers?.date ?? response.headers?.Date : void 0, "getDateHeader");

// src/submodules/httpAuthSchemes/utils/getSkewCorrectedDate.ts
var getSkewCorrectedDate = /* @__PURE__ */__name(systemClockOffset => new Date(Date.now() + systemClockOffset), "getSkewCorrectedDate");

// src/submodules/httpAuthSchemes/utils/isClockSkewed.ts
var isClockSkewed = /* @__PURE__ */__name((clockTime, systemClockOffset) => Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - clockTime) >= 3e5, "isClockSkewed");

// src/submodules/httpAuthSchemes/utils/getUpdatedSystemClockOffset.ts
var getUpdatedSystemClockOffset = /* @__PURE__ */__name((clockTime, currentSystemClockOffset) => {
  const clockTimeInMs = Date.parse(clockTime);
  if (isClockSkewed(clockTimeInMs, currentSystemClockOffset)) {
    return clockTimeInMs - Date.now();
  }
  return currentSystemClockOffset;
}, "getUpdatedSystemClockOffset");

// src/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.ts
var throwSigningPropertyError = /* @__PURE__ */__name((name, property) => {
  if (!property) {
    throw new Error(`Property \`${name}\` is not resolved for AWS SDK SigV4Auth`);
  }
  return property;
}, "throwSigningPropertyError");
var validateSigningProperties = /* @__PURE__ */__name(async signingProperties => {
  const context = throwSigningPropertyError("context", signingProperties.context);
  const config = throwSigningPropertyError("config", signingProperties.config);
  const authScheme = context.endpointV2?.properties?.authSchemes?.[0];
  const signerFunction = throwSigningPropertyError("signer", config.signer);
  const signer = await signerFunction(authScheme);
  const signingRegion = signingProperties?.signingRegion;
  const signingRegionSet = signingProperties?.signingRegionSet;
  const signingName = signingProperties?.signingName;
  return {
    config,
    signer,
    signingRegion,
    signingRegionSet,
    signingName
  };
}, "validateSigningProperties");
var AwsSdkSigV4Signer = class {
  static {
    __name(this, "AwsSdkSigV4Signer");
  }
  async sign(httpRequest, identity, signingProperties) {
    if (!import_protocol_http2.HttpRequest.isInstance(httpRequest)) {
      throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");
    }
    const validatedProps = await validateSigningProperties(signingProperties);
    const {
      config,
      signer
    } = validatedProps;
    let {
      signingRegion,
      signingName
    } = validatedProps;
    const handlerExecutionContext = signingProperties.context;
    if (handlerExecutionContext?.authSchemes?.length ?? 0 > 1) {
      const [first, second] = handlerExecutionContext.authSchemes;
      if (first?.name === "sigv4a" && second?.name === "sigv4") {
        signingRegion = second?.signingRegion ?? signingRegion;
        signingName = second?.signingName ?? signingName;
      }
    }
    const signedRequest = await signer.sign(httpRequest, {
      signingDate: getSkewCorrectedDate(config.systemClockOffset),
      signingRegion,
      signingService: signingName
    });
    return signedRequest;
  }
  errorHandler(signingProperties) {
    return error => {
      const serverTime = error.ServerTime ?? getDateHeader(error.$response);
      if (serverTime) {
        const config = throwSigningPropertyError("config", signingProperties.config);
        const initialSystemClockOffset = config.systemClockOffset;
        config.systemClockOffset = getUpdatedSystemClockOffset(serverTime, config.systemClockOffset);
        const clockSkewCorrected = config.systemClockOffset !== initialSystemClockOffset;
        if (clockSkewCorrected && error.$metadata) {
          error.$metadata.clockSkewCorrected = true;
        }
      }
      throw error;
    };
  }
  successHandler(httpResponse, signingProperties) {
    const dateHeader = getDateHeader(httpResponse);
    if (dateHeader) {
      const config = throwSigningPropertyError("config", signingProperties.config);
      config.systemClockOffset = getUpdatedSystemClockOffset(dateHeader, config.systemClockOffset);
    }
  }
};
var AWSSDKSigV4Signer = AwsSdkSigV4Signer;

// src/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4ASigner.ts
var import_protocol_http3 = require("@smithy/protocol-http");
var AwsSdkSigV4ASigner = class extends AwsSdkSigV4Signer {
  static {
    __name(this, "AwsSdkSigV4ASigner");
  }
  async sign(httpRequest, identity, signingProperties) {
    if (!import_protocol_http3.HttpRequest.isInstance(httpRequest)) {
      throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");
    }
    const {
      config,
      signer,
      signingRegion,
      signingRegionSet,
      signingName
    } = await validateSigningProperties(signingProperties);
    const configResolvedSigningRegionSet = await config.sigv4aSigningRegionSet?.();
    const multiRegionOverride = (configResolvedSigningRegionSet ?? signingRegionSet ?? [signingRegion]).join(",");
    const signedRequest = await signer.sign(httpRequest, {
      signingDate: getSkewCorrectedDate(config.systemClockOffset),
      signingRegion: multiRegionOverride,
      signingService: signingName
    });
    return signedRequest;
  }
};

// src/submodules/httpAuthSchemes/utils/getArrayForCommaSeparatedString.ts
var getArrayForCommaSeparatedString = /* @__PURE__ */__name(str => typeof str === "string" && str.length > 0 ? str.split(",").map(item => item.trim()) : [], "getArrayForCommaSeparatedString");

// src/submodules/httpAuthSchemes/utils/getBearerTokenEnvKey.ts
var getBearerTokenEnvKey = /* @__PURE__ */__name(signingName => `AWS_BEARER_TOKEN_${signingName.replace(/[\s-]/g, "_").toUpperCase()}`, "getBearerTokenEnvKey");

// src/submodules/httpAuthSchemes/aws_sdk/NODE_AUTH_SCHEME_PREFERENCE_OPTIONS.ts
var NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY = "AWS_AUTH_SCHEME_PREFERENCE";
var NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY = "auth_scheme_preference";
var NODE_AUTH_SCHEME_PREFERENCE_OPTIONS = {
  /**
   * Retrieves auth scheme preference from environment variables
   * @param env - Node process environment object
   * @returns Array of auth scheme strings if preference is set, undefined otherwise
   */
  environmentVariableSelector: /* @__PURE__ */__name((env, options) => {
    if (options?.signingName) {
      const bearerTokenKey = getBearerTokenEnvKey(options.signingName);
      if (bearerTokenKey in env) return ["httpBearerAuth"];
    }
    if (!(NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY in env)) return void 0;
    return getArrayForCommaSeparatedString(env[NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY]);
  }, "environmentVariableSelector"),
  /**
   * Retrieves auth scheme preference from config file
   * @param profile - Config profile object
   * @returns Array of auth scheme strings if preference is set, undefined otherwise
   */
  configFileSelector: /* @__PURE__ */__name(profile => {
    if (!(NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY in profile)) return void 0;
    return getArrayForCommaSeparatedString(profile[NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY]);
  }, "configFileSelector"),
  /**
   * Default auth scheme preference if not specified in environment or config
   */
  default: []
};

// src/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4AConfig.ts
var import_core = require("@smithy/core");
var import_property_provider = require("@smithy/property-provider");
var resolveAwsSdkSigV4AConfig = /* @__PURE__ */__name(config => {
  config.sigv4aSigningRegionSet = (0, import_core.normalizeProvider)(config.sigv4aSigningRegionSet);
  return config;
}, "resolveAwsSdkSigV4AConfig");
var NODE_SIGV4A_CONFIG_OPTIONS = {
  environmentVariableSelector(env) {
    if (env.AWS_SIGV4A_SIGNING_REGION_SET) {
      return env.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(_ => _.trim());
    }
    throw new import_property_provider.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.", {
      tryNextLink: true
    });
  },
  configFileSelector(profile) {
    if (profile.sigv4a_signing_region_set) {
      return (profile.sigv4a_signing_region_set ?? "").split(",").map(_ => _.trim());
    }
    throw new import_property_provider.ProviderError("sigv4a_signing_region_set not set in profile.", {
      tryNextLink: true
    });
  },
  default: void 0
};

// src/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.ts
var import_client = require("@aws-sdk/core/client");
var import_core2 = require("@smithy/core");
var import_signature_v4 = require("@smithy/signature-v4");
var resolveAwsSdkSigV4Config = /* @__PURE__ */__name(config => {
  let inputCredentials = config.credentials;
  let isUserSupplied = !!config.credentials;
  let resolvedCredentials = void 0;
  Object.defineProperty(config, "credentials", {
    set(credentials) {
      if (credentials && credentials !== inputCredentials && credentials !== resolvedCredentials) {
        isUserSupplied = true;
      }
      inputCredentials = credentials;
      const memoizedProvider = normalizeCredentialProvider(config, {
        credentials: inputCredentials,
        credentialDefaultProvider: config.credentialDefaultProvider
      });
      const boundProvider = bindCallerConfig(config, memoizedProvider);
      if (isUserSupplied && !boundProvider.attributed) {
        resolvedCredentials = /* @__PURE__ */__name(async options => boundProvider(options).then(creds => (0, import_client.setCredentialFeature)(creds, "CREDENTIALS_CODE", "e")), "resolvedCredentials");
        resolvedCredentials.memoized = boundProvider.memoized;
        resolvedCredentials.configBound = boundProvider.configBound;
        resolvedCredentials.attributed = true;
      } else {
        resolvedCredentials = boundProvider;
      }
    },
    get() {
      return resolvedCredentials;
    },
    enumerable: true,
    configurable: true
  });
  config.credentials = inputCredentials;
  const {
    // Default for signingEscapePath
    signingEscapePath = true,
    // Default for systemClockOffset
    systemClockOffset = config.systemClockOffset || 0,
    // No default for sha256 since it is platform dependent
    sha256
  } = config;
  let signer;
  if (config.signer) {
    signer = (0, import_core2.normalizeProvider)(config.signer);
  } else if (config.regionInfoProvider) {
    signer = /* @__PURE__ */__name(() => (0, import_core2.normalizeProvider)(config.region)().then(async region => [(await config.regionInfoProvider(region, {
      useFipsEndpoint: await config.useFipsEndpoint(),
      useDualstackEndpoint: await config.useDualstackEndpoint()
    })) || {}, region]).then(([regionInfo, region]) => {
      const {
        signingRegion,
        signingService
      } = regionInfo;
      config.signingRegion = config.signingRegion || signingRegion || region;
      config.signingName = config.signingName || signingService || config.serviceId;
      const params = {
        ...config,
        credentials: config.credentials,
        region: config.signingRegion,
        service: config.signingName,
        sha256,
        uriEscapePath: signingEscapePath
      };
      const SignerCtor = config.signerConstructor || import_signature_v4.SignatureV4;
      return new SignerCtor(params);
    }), "signer");
  } else {
    signer = /* @__PURE__ */__name(async authScheme => {
      authScheme = Object.assign({}, {
        name: "sigv4",
        signingName: config.signingName || config.defaultSigningName,
        signingRegion: await (0, import_core2.normalizeProvider)(config.region)(),
        properties: {}
      }, authScheme);
      const signingRegion = authScheme.signingRegion;
      const signingService = authScheme.signingName;
      config.signingRegion = config.signingRegion || signingRegion;
      config.signingName = config.signingName || signingService || config.serviceId;
      const params = {
        ...config,
        credentials: config.credentials,
        region: config.signingRegion,
        service: config.signingName,
        sha256,
        uriEscapePath: signingEscapePath
      };
      const SignerCtor = config.signerConstructor || import_signature_v4.SignatureV4;
      return new SignerCtor(params);
    }, "signer");
  }
  const resolvedConfig = Object.assign(config, {
    systemClockOffset,
    signingEscapePath,
    signer
  });
  return resolvedConfig;
}, "resolveAwsSdkSigV4Config");
var resolveAWSSDKSigV4Config = resolveAwsSdkSigV4Config;
function normalizeCredentialProvider(config, {
  credentials,
  credentialDefaultProvider
}) {
  let credentialsProvider;
  if (credentials) {
    if (!credentials?.memoized) {
      credentialsProvider = (0, import_core2.memoizeIdentityProvider)(credentials, import_core2.isIdentityExpired, import_core2.doesIdentityRequireRefresh);
    } else {
      credentialsProvider = credentials;
    }
  } else {
    if (credentialDefaultProvider) {
      credentialsProvider = (0, import_core2.normalizeProvider)(credentialDefaultProvider(Object.assign({}, config, {
        parentClientConfig: config
      })));
    } else {
      credentialsProvider = /* @__PURE__ */__name(async () => {
        throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.");
      }, "credentialsProvider");
    }
  }
  credentialsProvider.memoized = true;
  return credentialsProvider;
}
__name(normalizeCredentialProvider, "normalizeCredentialProvider");
function bindCallerConfig(config, credentialsProvider) {
  if (credentialsProvider.configBound) {
    return credentialsProvider;
  }
  const fn = /* @__PURE__ */__name(async options => credentialsProvider({
    ...options,
    callerClientConfig: config
  }), "fn");
  fn.memoized = credentialsProvider.memoized;
  fn.configBound = true;
  return fn;
}
__name(bindCallerConfig, "bindCallerConfig");
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  AWSSDKSigV4Signer,
  AwsSdkSigV4ASigner,
  AwsSdkSigV4Signer,
  NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,
  NODE_SIGV4A_CONFIG_OPTIONS,
  getBearerTokenEnvKey,
  resolveAWSSDKSigV4Config,
  resolveAwsSdkSigV4AConfig,
  resolveAwsSdkSigV4Config,
  validateSigningProperties
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZ2V0T3duUHJvcERlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2dldE93blByb3BOYW1lcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJfX2hhc093blByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fbmFtZSIsInRhcmdldCIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwiX19leHBvcnQiLCJhbGwiLCJuYW1lIiwiZ2V0IiwiZW51bWVyYWJsZSIsIl9fY29weVByb3BzIiwidG8iLCJmcm9tIiwiZXhjZXB0IiwiZGVzYyIsImtleSIsImNhbGwiLCJfX3RvQ29tbW9uSlMiLCJtb2QiLCJpbmRleF9leHBvcnRzIiwiQVdTU0RLU2lnVjRTaWduZXIiLCJBd3NTZGtTaWdWNEFTaWduZXIiLCJBd3NTZGtTaWdWNFNpZ25lciIsIk5PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9PUFRJT05TIiwiTk9ERV9TSUdWNEFfQ09ORklHX09QVElPTlMiLCJnZXRCZWFyZXJUb2tlbkVudktleSIsInJlc29sdmVBV1NTREtTaWdWNENvbmZpZyIsInJlc29sdmVBd3NTZGtTaWdWNEFDb25maWciLCJyZXNvbHZlQXdzU2RrU2lnVjRDb25maWciLCJ2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzIiwibW9kdWxlIiwiZXhwb3J0cyIsImltcG9ydF9wcm90b2NvbF9odHRwMiIsInJlcXVpcmUiLCJpbXBvcnRfcHJvdG9jb2xfaHR0cCIsImdldERhdGVIZWFkZXIiLCJyZXNwb25zZSIsIkh0dHBSZXNwb25zZSIsImlzSW5zdGFuY2UiLCJoZWFkZXJzIiwiZGF0ZSIsIkRhdGUiLCJnZXRTa2V3Q29ycmVjdGVkRGF0ZSIsInN5c3RlbUNsb2NrT2Zmc2V0Iiwibm93IiwiaXNDbG9ja1NrZXdlZCIsImNsb2NrVGltZSIsIk1hdGgiLCJhYnMiLCJnZXRUaW1lIiwiZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0IiwiY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0IiwiY2xvY2tUaW1lSW5NcyIsInBhcnNlIiwidGhyb3dTaWduaW5nUHJvcGVydHlFcnJvciIsInByb3BlcnR5IiwiRXJyb3IiLCJzaWduaW5nUHJvcGVydGllcyIsImNvbnRleHQiLCJjb25maWciLCJhdXRoU2NoZW1lIiwiZW5kcG9pbnRWMiIsInByb3BlcnRpZXMiLCJhdXRoU2NoZW1lcyIsInNpZ25lckZ1bmN0aW9uIiwic2lnbmVyIiwic2lnbmluZ1JlZ2lvbiIsInNpZ25pbmdSZWdpb25TZXQiLCJzaWduaW5nTmFtZSIsInNpZ24iLCJodHRwUmVxdWVzdCIsImlkZW50aXR5IiwiSHR0cFJlcXVlc3QiLCJ2YWxpZGF0ZWRQcm9wcyIsImhhbmRsZXJFeGVjdXRpb25Db250ZXh0IiwibGVuZ3RoIiwiZmlyc3QiLCJzZWNvbmQiLCJzaWduZWRSZXF1ZXN0Iiwic2lnbmluZ0RhdGUiLCJzaWduaW5nU2VydmljZSIsImVycm9ySGFuZGxlciIsImVycm9yIiwic2VydmVyVGltZSIsIlNlcnZlclRpbWUiLCIkcmVzcG9uc2UiLCJpbml0aWFsU3lzdGVtQ2xvY2tPZmZzZXQiLCJjbG9ja1NrZXdDb3JyZWN0ZWQiLCIkbWV0YWRhdGEiLCJzdWNjZXNzSGFuZGxlciIsImh0dHBSZXNwb25zZSIsImRhdGVIZWFkZXIiLCJpbXBvcnRfcHJvdG9jb2xfaHR0cDMiLCJjb25maWdSZXNvbHZlZFNpZ25pbmdSZWdpb25TZXQiLCJzaWd2NGFTaWduaW5nUmVnaW9uU2V0IiwibXVsdGlSZWdpb25PdmVycmlkZSIsImpvaW4iLCJnZXRBcnJheUZvckNvbW1hU2VwYXJhdGVkU3RyaW5nIiwic3RyIiwic3BsaXQiLCJtYXAiLCJpdGVtIiwidHJpbSIsInJlcGxhY2UiLCJ0b1VwcGVyQ2FzZSIsIk5PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9FTlZfS0VZIiwiTk9ERV9BVVRIX1NDSEVNRV9QUkVGRVJFTkNFX0NPTkZJR19LRVkiLCJlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3IiLCJlbnYiLCJvcHRpb25zIiwiYmVhcmVyVG9rZW5LZXkiLCJjb25maWdGaWxlU2VsZWN0b3IiLCJwcm9maWxlIiwiZGVmYXVsdCIsImltcG9ydF9jb3JlIiwiaW1wb3J0X3Byb3BlcnR5X3Byb3ZpZGVyIiwibm9ybWFsaXplUHJvdmlkZXIiLCJBV1NfU0lHVjRBX1NJR05JTkdfUkVHSU9OX1NFVCIsIl8iLCJQcm92aWRlckVycm9yIiwidHJ5TmV4dExpbmsiLCJzaWd2NGFfc2lnbmluZ19yZWdpb25fc2V0IiwiaW1wb3J0X2NsaWVudCIsImltcG9ydF9jb3JlMiIsImltcG9ydF9zaWduYXR1cmVfdjQiLCJpbnB1dENyZWRlbnRpYWxzIiwiY3JlZGVudGlhbHMiLCJpc1VzZXJTdXBwbGllZCIsInJlc29sdmVkQ3JlZGVudGlhbHMiLCJzZXQiLCJtZW1vaXplZFByb3ZpZGVyIiwibm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyIiwiY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciIsImJvdW5kUHJvdmlkZXIiLCJiaW5kQ2FsbGVyQ29uZmlnIiwiYXR0cmlidXRlZCIsInRoZW4iLCJjcmVkcyIsInNldENyZWRlbnRpYWxGZWF0dXJlIiwibWVtb2l6ZWQiLCJjb25maWdCb3VuZCIsInNpZ25pbmdFc2NhcGVQYXRoIiwic2hhMjU2IiwicmVnaW9uSW5mb1Byb3ZpZGVyIiwicmVnaW9uIiwidXNlRmlwc0VuZHBvaW50IiwidXNlRHVhbHN0YWNrRW5kcG9pbnQiLCJyZWdpb25JbmZvIiwic2VydmljZUlkIiwicGFyYW1zIiwic2VydmljZSIsInVyaUVzY2FwZVBhdGgiLCJTaWduZXJDdG9yIiwic2lnbmVyQ29uc3RydWN0b3IiLCJTaWduYXR1cmVWNCIsImFzc2lnbiIsImRlZmF1bHRTaWduaW5nTmFtZSIsInJlc29sdmVkQ29uZmlnIiwiY3JlZGVudGlhbHNQcm92aWRlciIsIm1lbW9pemVJZGVudGl0eVByb3ZpZGVyIiwiaXNJZGVudGl0eUV4cGlyZWQiLCJkb2VzSWRlbnRpdHlSZXF1aXJlUmVmcmVzaCIsInBhcmVudENsaWVudENvbmZpZyIsImZuIiwiY2FsbGVyQ2xpZW50Q29uZmlnIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX25hbWUgPSAodGFyZ2V0LCB2YWx1ZSkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJuYW1lXCIsIHsgdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKSA9PiBfX2NvcHlQcm9wcyhfX2RlZlByb3Aoe30sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpO1xuXG4vLyBzcmMvc3VibW9kdWxlcy9odHRwQXV0aFNjaGVtZXMvaW5kZXgudHNcbnZhciBpbmRleF9leHBvcnRzID0ge307XG5fX2V4cG9ydChpbmRleF9leHBvcnRzLCB7XG4gIEFXU1NES1NpZ1Y0U2lnbmVyOiAoKSA9PiBBV1NTREtTaWdWNFNpZ25lcixcbiAgQXdzU2RrU2lnVjRBU2lnbmVyOiAoKSA9PiBBd3NTZGtTaWdWNEFTaWduZXIsXG4gIEF3c1Nka1NpZ1Y0U2lnbmVyOiAoKSA9PiBBd3NTZGtTaWdWNFNpZ25lcixcbiAgTk9ERV9BVVRIX1NDSEVNRV9QUkVGRVJFTkNFX09QVElPTlM6ICgpID0+IE5PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9PUFRJT05TLFxuICBOT0RFX1NJR1Y0QV9DT05GSUdfT1BUSU9OUzogKCkgPT4gTk9ERV9TSUdWNEFfQ09ORklHX09QVElPTlMsXG4gIGdldEJlYXJlclRva2VuRW52S2V5OiAoKSA9PiBnZXRCZWFyZXJUb2tlbkVudktleSxcbiAgcmVzb2x2ZUFXU1NES1NpZ1Y0Q29uZmlnOiAoKSA9PiByZXNvbHZlQVdTU0RLU2lnVjRDb25maWcsXG4gIHJlc29sdmVBd3NTZGtTaWdWNEFDb25maWc6ICgpID0+IHJlc29sdmVBd3NTZGtTaWdWNEFDb25maWcsXG4gIHJlc29sdmVBd3NTZGtTaWdWNENvbmZpZzogKCkgPT4gcmVzb2x2ZUF3c1Nka1NpZ1Y0Q29uZmlnLFxuICB2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzOiAoKSA9PiB2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzXG59KTtcbm1vZHVsZS5leHBvcnRzID0gX190b0NvbW1vbkpTKGluZGV4X2V4cG9ydHMpO1xuXG4vLyBzcmMvc3VibW9kdWxlcy9odHRwQXV0aFNjaGVtZXMvYXdzX3Nkay9Bd3NTZGtTaWdWNFNpZ25lci50c1xudmFyIGltcG9ydF9wcm90b2NvbF9odHRwMiA9IHJlcXVpcmUoXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIik7XG5cbi8vIHNyYy9zdWJtb2R1bGVzL2h0dHBBdXRoU2NoZW1lcy91dGlscy9nZXREYXRlSGVhZGVyLnRzXG52YXIgaW1wb3J0X3Byb3RvY29sX2h0dHAgPSByZXF1aXJlKFwiQHNtaXRoeS9wcm90b2NvbC1odHRwXCIpO1xudmFyIGdldERhdGVIZWFkZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXNwb25zZSkgPT4gaW1wb3J0X3Byb3RvY29sX2h0dHAuSHR0cFJlc3BvbnNlLmlzSW5zdGFuY2UocmVzcG9uc2UpID8gcmVzcG9uc2UuaGVhZGVycz8uZGF0ZSA/PyByZXNwb25zZS5oZWFkZXJzPy5EYXRlIDogdm9pZCAwLCBcImdldERhdGVIZWFkZXJcIik7XG5cbi8vIHNyYy9zdWJtb2R1bGVzL2h0dHBBdXRoU2NoZW1lcy91dGlscy9nZXRTa2V3Q29ycmVjdGVkRGF0ZS50c1xudmFyIGdldFNrZXdDb3JyZWN0ZWREYXRlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3lzdGVtQ2xvY2tPZmZzZXQpID0+IG5ldyBEYXRlKERhdGUubm93KCkgKyBzeXN0ZW1DbG9ja09mZnNldCksIFwiZ2V0U2tld0NvcnJlY3RlZERhdGVcIik7XG5cbi8vIHNyYy9zdWJtb2R1bGVzL2h0dHBBdXRoU2NoZW1lcy91dGlscy9pc0Nsb2NrU2tld2VkLnRzXG52YXIgaXNDbG9ja1NrZXdlZCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNsb2NrVGltZSwgc3lzdGVtQ2xvY2tPZmZzZXQpID0+IE1hdGguYWJzKGdldFNrZXdDb3JyZWN0ZWREYXRlKHN5c3RlbUNsb2NrT2Zmc2V0KS5nZXRUaW1lKCkgLSBjbG9ja1RpbWUpID49IDNlNSwgXCJpc0Nsb2NrU2tld2VkXCIpO1xuXG4vLyBzcmMvc3VibW9kdWxlcy9odHRwQXV0aFNjaGVtZXMvdXRpbHMvZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0LnRzXG52YXIgZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY2xvY2tUaW1lLCBjdXJyZW50U3lzdGVtQ2xvY2tPZmZzZXQpID0+IHtcbiAgY29uc3QgY2xvY2tUaW1lSW5NcyA9IERhdGUucGFyc2UoY2xvY2tUaW1lKTtcbiAgaWYgKGlzQ2xvY2tTa2V3ZWQoY2xvY2tUaW1lSW5NcywgY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0KSkge1xuICAgIHJldHVybiBjbG9ja1RpbWVJbk1zIC0gRGF0ZS5ub3coKTtcbiAgfVxuICByZXR1cm4gY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0O1xufSwgXCJnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXRcIik7XG5cbi8vIHNyYy9zdWJtb2R1bGVzL2h0dHBBdXRoU2NoZW1lcy9hd3Nfc2RrL0F3c1Nka1NpZ1Y0U2lnbmVyLnRzXG52YXIgdGhyb3dTaWduaW5nUHJvcGVydHlFcnJvciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5hbWUsIHByb3BlcnR5KSA9PiB7XG4gIGlmICghcHJvcGVydHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5IFxcYCR7bmFtZX1cXGAgaXMgbm90IHJlc29sdmVkIGZvciBBV1MgU0RLIFNpZ1Y0QXV0aGApO1xuICB9XG4gIHJldHVybiBwcm9wZXJ0eTtcbn0sIFwidGhyb3dTaWduaW5nUHJvcGVydHlFcnJvclwiKTtcbnZhciB2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoc2lnbmluZ1Byb3BlcnRpZXMpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHRocm93U2lnbmluZ1Byb3BlcnR5RXJyb3IoXG4gICAgXCJjb250ZXh0XCIsXG4gICAgc2lnbmluZ1Byb3BlcnRpZXMuY29udGV4dFxuICApO1xuICBjb25zdCBjb25maWcgPSB0aHJvd1NpZ25pbmdQcm9wZXJ0eUVycm9yKFwiY29uZmlnXCIsIHNpZ25pbmdQcm9wZXJ0aWVzLmNvbmZpZyk7XG4gIGNvbnN0IGF1dGhTY2hlbWUgPSBjb250ZXh0LmVuZHBvaW50VjI/LnByb3BlcnRpZXM/LmF1dGhTY2hlbWVzPy5bMF07XG4gIGNvbnN0IHNpZ25lckZ1bmN0aW9uID0gdGhyb3dTaWduaW5nUHJvcGVydHlFcnJvcihcbiAgICBcInNpZ25lclwiLFxuICAgIGNvbmZpZy5zaWduZXJcbiAgKTtcbiAgY29uc3Qgc2lnbmVyID0gYXdhaXQgc2lnbmVyRnVuY3Rpb24oYXV0aFNjaGVtZSk7XG4gIGNvbnN0IHNpZ25pbmdSZWdpb24gPSBzaWduaW5nUHJvcGVydGllcz8uc2lnbmluZ1JlZ2lvbjtcbiAgY29uc3Qgc2lnbmluZ1JlZ2lvblNldCA9IHNpZ25pbmdQcm9wZXJ0aWVzPy5zaWduaW5nUmVnaW9uU2V0O1xuICBjb25zdCBzaWduaW5nTmFtZSA9IHNpZ25pbmdQcm9wZXJ0aWVzPy5zaWduaW5nTmFtZTtcbiAgcmV0dXJuIHtcbiAgICBjb25maWcsXG4gICAgc2lnbmVyLFxuICAgIHNpZ25pbmdSZWdpb24sXG4gICAgc2lnbmluZ1JlZ2lvblNldCxcbiAgICBzaWduaW5nTmFtZVxuICB9O1xufSwgXCJ2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzXCIpO1xudmFyIEF3c1Nka1NpZ1Y0U2lnbmVyID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIkF3c1Nka1NpZ1Y0U2lnbmVyXCIpO1xuICB9XG4gIGFzeW5jIHNpZ24oaHR0cFJlcXVlc3QsIGlkZW50aXR5LCBzaWduaW5nUHJvcGVydGllcykge1xuICAgIGlmICghaW1wb3J0X3Byb3RvY29sX2h0dHAyLkh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoaHR0cFJlcXVlc3QpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVxdWVzdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgYEh0dHBSZXF1ZXN0YCBhbmQgY2Fubm90IGJlIHNpZ25lZFwiKTtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdGVkUHJvcHMgPSBhd2FpdCB2YWxpZGF0ZVNpZ25pbmdQcm9wZXJ0aWVzKHNpZ25pbmdQcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB7IGNvbmZpZywgc2lnbmVyIH0gPSB2YWxpZGF0ZWRQcm9wcztcbiAgICBsZXQgeyBzaWduaW5nUmVnaW9uLCBzaWduaW5nTmFtZSB9ID0gdmFsaWRhdGVkUHJvcHM7XG4gICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSBzaWduaW5nUHJvcGVydGllcy5jb250ZXh0O1xuICAgIGlmIChoYW5kbGVyRXhlY3V0aW9uQ29udGV4dD8uYXV0aFNjaGVtZXM/Lmxlbmd0aCA/PyAwID4gMSkge1xuICAgICAgY29uc3QgW2ZpcnN0LCBzZWNvbmRdID0gaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQuYXV0aFNjaGVtZXM7XG4gICAgICBpZiAoZmlyc3Q/Lm5hbWUgPT09IFwic2lndjRhXCIgJiYgc2Vjb25kPy5uYW1lID09PSBcInNpZ3Y0XCIpIHtcbiAgICAgICAgc2lnbmluZ1JlZ2lvbiA9IHNlY29uZD8uc2lnbmluZ1JlZ2lvbiA/PyBzaWduaW5nUmVnaW9uO1xuICAgICAgICBzaWduaW5nTmFtZSA9IHNlY29uZD8uc2lnbmluZ05hbWUgPz8gc2lnbmluZ05hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNpZ25lZFJlcXVlc3QgPSBhd2FpdCBzaWduZXIuc2lnbihodHRwUmVxdWVzdCwge1xuICAgICAgc2lnbmluZ0RhdGU6IGdldFNrZXdDb3JyZWN0ZWREYXRlKGNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCksXG4gICAgICBzaWduaW5nUmVnaW9uLFxuICAgICAgc2lnbmluZ1NlcnZpY2U6IHNpZ25pbmdOYW1lXG4gICAgfSk7XG4gICAgcmV0dXJuIHNpZ25lZFJlcXVlc3Q7XG4gIH1cbiAgZXJyb3JIYW5kbGVyKHNpZ25pbmdQcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIChlcnJvcikgPT4ge1xuICAgICAgY29uc3Qgc2VydmVyVGltZSA9IGVycm9yLlNlcnZlclRpbWUgPz8gZ2V0RGF0ZUhlYWRlcihlcnJvci4kcmVzcG9uc2UpO1xuICAgICAgaWYgKHNlcnZlclRpbWUpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhyb3dTaWduaW5nUHJvcGVydHlFcnJvcihcImNvbmZpZ1wiLCBzaWduaW5nUHJvcGVydGllcy5jb25maWcpO1xuICAgICAgICBjb25zdCBpbml0aWFsU3lzdGVtQ2xvY2tPZmZzZXQgPSBjb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQ7XG4gICAgICAgIGNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCA9IGdldFVwZGF0ZWRTeXN0ZW1DbG9ja09mZnNldChzZXJ2ZXJUaW1lLCBjb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpO1xuICAgICAgICBjb25zdCBjbG9ja1NrZXdDb3JyZWN0ZWQgPSBjb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQgIT09IGluaXRpYWxTeXN0ZW1DbG9ja09mZnNldDtcbiAgICAgICAgaWYgKGNsb2NrU2tld0NvcnJlY3RlZCAmJiBlcnJvci4kbWV0YWRhdGEpIHtcbiAgICAgICAgICBlcnJvci4kbWV0YWRhdGEuY2xvY2tTa2V3Q29ycmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfTtcbiAgfVxuICBzdWNjZXNzSGFuZGxlcihodHRwUmVzcG9uc2UsIHNpZ25pbmdQcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgZGF0ZUhlYWRlciA9IGdldERhdGVIZWFkZXIoaHR0cFJlc3BvbnNlKTtcbiAgICBpZiAoZGF0ZUhlYWRlcikge1xuICAgICAgY29uc3QgY29uZmlnID0gdGhyb3dTaWduaW5nUHJvcGVydHlFcnJvcihcImNvbmZpZ1wiLCBzaWduaW5nUHJvcGVydGllcy5jb25maWcpO1xuICAgICAgY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0ID0gZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0KGRhdGVIZWFkZXIsIGNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCk7XG4gICAgfVxuICB9XG59O1xudmFyIEFXU1NES1NpZ1Y0U2lnbmVyID0gQXdzU2RrU2lnVjRTaWduZXI7XG5cbi8vIHNyYy9zdWJtb2R1bGVzL2h0dHBBdXRoU2NoZW1lcy9hd3Nfc2RrL0F3c1Nka1NpZ1Y0QVNpZ25lci50c1xudmFyIGltcG9ydF9wcm90b2NvbF9odHRwMyA9IHJlcXVpcmUoXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIik7XG52YXIgQXdzU2RrU2lnVjRBU2lnbmVyID0gY2xhc3MgZXh0ZW5kcyBBd3NTZGtTaWdWNFNpZ25lciB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiQXdzU2RrU2lnVjRBU2lnbmVyXCIpO1xuICB9XG4gIGFzeW5jIHNpZ24oaHR0cFJlcXVlc3QsIGlkZW50aXR5LCBzaWduaW5nUHJvcGVydGllcykge1xuICAgIGlmICghaW1wb3J0X3Byb3RvY29sX2h0dHAzLkh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoaHR0cFJlcXVlc3QpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVxdWVzdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgYEh0dHBSZXF1ZXN0YCBhbmQgY2Fubm90IGJlIHNpZ25lZFwiKTtcbiAgICB9XG4gICAgY29uc3QgeyBjb25maWcsIHNpZ25lciwgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1JlZ2lvblNldCwgc2lnbmluZ05hbWUgfSA9IGF3YWl0IHZhbGlkYXRlU2lnbmluZ1Byb3BlcnRpZXMoXG4gICAgICBzaWduaW5nUHJvcGVydGllc1xuICAgICk7XG4gICAgY29uc3QgY29uZmlnUmVzb2x2ZWRTaWduaW5nUmVnaW9uU2V0ID0gYXdhaXQgY29uZmlnLnNpZ3Y0YVNpZ25pbmdSZWdpb25TZXQ/LigpO1xuICAgIGNvbnN0IG11bHRpUmVnaW9uT3ZlcnJpZGUgPSAoY29uZmlnUmVzb2x2ZWRTaWduaW5nUmVnaW9uU2V0ID8/IHNpZ25pbmdSZWdpb25TZXQgPz8gW3NpZ25pbmdSZWdpb25dKS5qb2luKFwiLFwiKTtcbiAgICBjb25zdCBzaWduZWRSZXF1ZXN0ID0gYXdhaXQgc2lnbmVyLnNpZ24oaHR0cFJlcXVlc3QsIHtcbiAgICAgIHNpZ25pbmdEYXRlOiBnZXRTa2V3Q29ycmVjdGVkRGF0ZShjb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpLFxuICAgICAgc2lnbmluZ1JlZ2lvbjogbXVsdGlSZWdpb25PdmVycmlkZSxcbiAgICAgIHNpZ25pbmdTZXJ2aWNlOiBzaWduaW5nTmFtZVxuICAgIH0pO1xuICAgIHJldHVybiBzaWduZWRSZXF1ZXN0O1xuICB9XG59O1xuXG4vLyBzcmMvc3VibW9kdWxlcy9odHRwQXV0aFNjaGVtZXMvdXRpbHMvZ2V0QXJyYXlGb3JDb21tYVNlcGFyYXRlZFN0cmluZy50c1xudmFyIGdldEFycmF5Rm9yQ29tbWFTZXBhcmF0ZWRTdHJpbmcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdHIpID0+IHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIgJiYgc3RyLmxlbmd0aCA+IDAgPyBzdHIuc3BsaXQoXCIsXCIpLm1hcCgoaXRlbSkgPT4gaXRlbS50cmltKCkpIDogW10sIFwiZ2V0QXJyYXlGb3JDb21tYVNlcGFyYXRlZFN0cmluZ1wiKTtcblxuLy8gc3JjL3N1Ym1vZHVsZXMvaHR0cEF1dGhTY2hlbWVzL3V0aWxzL2dldEJlYXJlclRva2VuRW52S2V5LnRzXG52YXIgZ2V0QmVhcmVyVG9rZW5FbnZLZXkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzaWduaW5nTmFtZSkgPT4gYEFXU19CRUFSRVJfVE9LRU5fJHtzaWduaW5nTmFtZS5yZXBsYWNlKC9bXFxzLV0vZywgXCJfXCIpLnRvVXBwZXJDYXNlKCl9YCwgXCJnZXRCZWFyZXJUb2tlbkVudktleVwiKTtcblxuLy8gc3JjL3N1Ym1vZHVsZXMvaHR0cEF1dGhTY2hlbWVzL2F3c19zZGsvTk9ERV9BVVRIX1NDSEVNRV9QUkVGRVJFTkNFX09QVElPTlMudHNcbnZhciBOT0RFX0FVVEhfU0NIRU1FX1BSRUZFUkVOQ0VfRU5WX0tFWSA9IFwiQVdTX0FVVEhfU0NIRU1FX1BSRUZFUkVOQ0VcIjtcbnZhciBOT0RFX0FVVEhfU0NIRU1FX1BSRUZFUkVOQ0VfQ09ORklHX0tFWSA9IFwiYXV0aF9zY2hlbWVfcHJlZmVyZW5jZVwiO1xudmFyIE5PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9PUFRJT05TID0ge1xuICAvKipcbiAgICogUmV0cmlldmVzIGF1dGggc2NoZW1lIHByZWZlcmVuY2UgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICogQHBhcmFtIGVudiAtIE5vZGUgcHJvY2VzcyBlbnZpcm9ubWVudCBvYmplY3RcbiAgICogQHJldHVybnMgQXJyYXkgb2YgYXV0aCBzY2hlbWUgc3RyaW5ncyBpZiBwcmVmZXJlbmNlIGlzIHNldCwgdW5kZWZpbmVkIG90aGVyd2lzZVxuICAgKi9cbiAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKChlbnYsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAob3B0aW9ucz8uc2lnbmluZ05hbWUpIHtcbiAgICAgIGNvbnN0IGJlYXJlclRva2VuS2V5ID0gZ2V0QmVhcmVyVG9rZW5FbnZLZXkob3B0aW9ucy5zaWduaW5nTmFtZSk7XG4gICAgICBpZiAoYmVhcmVyVG9rZW5LZXkgaW4gZW52KSByZXR1cm4gW1wiaHR0cEJlYXJlckF1dGhcIl07XG4gICAgfVxuICAgIGlmICghKE5PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9FTlZfS0VZIGluIGVudikpIHJldHVybiB2b2lkIDA7XG4gICAgcmV0dXJuIGdldEFycmF5Rm9yQ29tbWFTZXBhcmF0ZWRTdHJpbmcoZW52W05PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9FTlZfS0VZXSk7XG4gIH0sIFwiZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yXCIpLFxuICAvKipcbiAgICogUmV0cmlldmVzIGF1dGggc2NoZW1lIHByZWZlcmVuY2UgZnJvbSBjb25maWcgZmlsZVxuICAgKiBAcGFyYW0gcHJvZmlsZSAtIENvbmZpZyBwcm9maWxlIG9iamVjdFxuICAgKiBAcmV0dXJucyBBcnJheSBvZiBhdXRoIHNjaGVtZSBzdHJpbmdzIGlmIHByZWZlcmVuY2UgaXMgc2V0LCB1bmRlZmluZWQgb3RoZXJ3aXNlXG4gICAqL1xuICBjb25maWdGaWxlU2VsZWN0b3I6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHByb2ZpbGUpID0+IHtcbiAgICBpZiAoIShOT0RFX0FVVEhfU0NIRU1FX1BSRUZFUkVOQ0VfQ09ORklHX0tFWSBpbiBwcm9maWxlKSkgcmV0dXJuIHZvaWQgMDtcbiAgICByZXR1cm4gZ2V0QXJyYXlGb3JDb21tYVNlcGFyYXRlZFN0cmluZyhwcm9maWxlW05PREVfQVVUSF9TQ0hFTUVfUFJFRkVSRU5DRV9DT05GSUdfS0VZXSk7XG4gIH0sIFwiY29uZmlnRmlsZVNlbGVjdG9yXCIpLFxuICAvKipcbiAgICogRGVmYXVsdCBhdXRoIHNjaGVtZSBwcmVmZXJlbmNlIGlmIG5vdCBzcGVjaWZpZWQgaW4gZW52aXJvbm1lbnQgb3IgY29uZmlnXG4gICAqL1xuICBkZWZhdWx0OiBbXVxufTtcblxuLy8gc3JjL3N1Ym1vZHVsZXMvaHR0cEF1dGhTY2hlbWVzL2F3c19zZGsvcmVzb2x2ZUF3c1Nka1NpZ1Y0QUNvbmZpZy50c1xudmFyIGltcG9ydF9jb3JlID0gcmVxdWlyZShcIkBzbWl0aHkvY29yZVwiKTtcbnZhciBpbXBvcnRfcHJvcGVydHlfcHJvdmlkZXIgPSByZXF1aXJlKFwiQHNtaXRoeS9wcm9wZXJ0eS1wcm92aWRlclwiKTtcbnZhciByZXNvbHZlQXdzU2RrU2lnVjRBQ29uZmlnID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29uZmlnKSA9PiB7XG4gIGNvbmZpZy5zaWd2NGFTaWduaW5nUmVnaW9uU2V0ID0gKDAsIGltcG9ydF9jb3JlLm5vcm1hbGl6ZVByb3ZpZGVyKShjb25maWcuc2lndjRhU2lnbmluZ1JlZ2lvblNldCk7XG4gIHJldHVybiBjb25maWc7XG59LCBcInJlc29sdmVBd3NTZGtTaWdWNEFDb25maWdcIik7XG52YXIgTk9ERV9TSUdWNEFfQ09ORklHX09QVElPTlMgPSB7XG4gIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcihlbnYpIHtcbiAgICBpZiAoZW52LkFXU19TSUdWNEFfU0lHTklOR19SRUdJT05fU0VUKSB7XG4gICAgICByZXR1cm4gZW52LkFXU19TSUdWNEFfU0lHTklOR19SRUdJT05fU0VULnNwbGl0KFwiLFwiKS5tYXAoKF8pID0+IF8udHJpbSgpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IGltcG9ydF9wcm9wZXJ0eV9wcm92aWRlci5Qcm92aWRlckVycm9yKFwiQVdTX1NJR1Y0QV9TSUdOSU5HX1JFR0lPTl9TRVQgbm90IHNldCBpbiBlbnYuXCIsIHtcbiAgICAgIHRyeU5leHRMaW5rOiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIGNvbmZpZ0ZpbGVTZWxlY3Rvcihwcm9maWxlKSB7XG4gICAgaWYgKHByb2ZpbGUuc2lndjRhX3NpZ25pbmdfcmVnaW9uX3NldCkge1xuICAgICAgcmV0dXJuIChwcm9maWxlLnNpZ3Y0YV9zaWduaW5nX3JlZ2lvbl9zZXQgPz8gXCJcIikuc3BsaXQoXCIsXCIpLm1hcCgoXykgPT4gXy50cmltKCkpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgaW1wb3J0X3Byb3BlcnR5X3Byb3ZpZGVyLlByb3ZpZGVyRXJyb3IoXCJzaWd2NGFfc2lnbmluZ19yZWdpb25fc2V0IG5vdCBzZXQgaW4gcHJvZmlsZS5cIiwge1xuICAgICAgdHJ5TmV4dExpbms6IHRydWVcbiAgICB9KTtcbiAgfSxcbiAgZGVmYXVsdDogdm9pZCAwXG59O1xuXG4vLyBzcmMvc3VibW9kdWxlcy9odHRwQXV0aFNjaGVtZXMvYXdzX3Nkay9yZXNvbHZlQXdzU2RrU2lnVjRDb25maWcudHNcbnZhciBpbXBvcnRfY2xpZW50ID0gcmVxdWlyZShcIkBhd3Mtc2RrL2NvcmUvY2xpZW50XCIpO1xudmFyIGltcG9ydF9jb3JlMiA9IHJlcXVpcmUoXCJAc21pdGh5L2NvcmVcIik7XG52YXIgaW1wb3J0X3NpZ25hdHVyZV92NCA9IHJlcXVpcmUoXCJAc21pdGh5L3NpZ25hdHVyZS12NFwiKTtcbnZhciByZXNvbHZlQXdzU2RrU2lnVjRDb25maWcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb25maWcpID0+IHtcbiAgbGV0IGlucHV0Q3JlZGVudGlhbHMgPSBjb25maWcuY3JlZGVudGlhbHM7XG4gIGxldCBpc1VzZXJTdXBwbGllZCA9ICEhY29uZmlnLmNyZWRlbnRpYWxzO1xuICBsZXQgcmVzb2x2ZWRDcmVkZW50aWFscyA9IHZvaWQgMDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbmZpZywgXCJjcmVkZW50aWFsc1wiLCB7XG4gICAgc2V0KGNyZWRlbnRpYWxzKSB7XG4gICAgICBpZiAoY3JlZGVudGlhbHMgJiYgY3JlZGVudGlhbHMgIT09IGlucHV0Q3JlZGVudGlhbHMgJiYgY3JlZGVudGlhbHMgIT09IHJlc29sdmVkQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgaXNVc2VyU3VwcGxpZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaW5wdXRDcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgY29uc3QgbWVtb2l6ZWRQcm92aWRlciA9IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlcihjb25maWcsIHtcbiAgICAgICAgY3JlZGVudGlhbHM6IGlucHV0Q3JlZGVudGlhbHMsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGJvdW5kUHJvdmlkZXIgPSBiaW5kQ2FsbGVyQ29uZmlnKGNvbmZpZywgbWVtb2l6ZWRQcm92aWRlcik7XG4gICAgICBpZiAoaXNVc2VyU3VwcGxpZWQgJiYgIWJvdW5kUHJvdmlkZXIuYXR0cmlidXRlZCkge1xuICAgICAgICByZXNvbHZlZENyZWRlbnRpYWxzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAob3B0aW9ucykgPT4gYm91bmRQcm92aWRlcihvcHRpb25zKS50aGVuKFxuICAgICAgICAgIChjcmVkcykgPT4gKDAsIGltcG9ydF9jbGllbnQuc2V0Q3JlZGVudGlhbEZlYXR1cmUpKGNyZWRzLCBcIkNSRURFTlRJQUxTX0NPREVcIiwgXCJlXCIpXG4gICAgICAgICksIFwicmVzb2x2ZWRDcmVkZW50aWFsc1wiKTtcbiAgICAgICAgcmVzb2x2ZWRDcmVkZW50aWFscy5tZW1vaXplZCA9IGJvdW5kUHJvdmlkZXIubWVtb2l6ZWQ7XG4gICAgICAgIHJlc29sdmVkQ3JlZGVudGlhbHMuY29uZmlnQm91bmQgPSBib3VuZFByb3ZpZGVyLmNvbmZpZ0JvdW5kO1xuICAgICAgICByZXNvbHZlZENyZWRlbnRpYWxzLmF0dHJpYnV0ZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZWRDcmVkZW50aWFscyA9IGJvdW5kUHJvdmlkZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDcmVkZW50aWFscztcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBjb25maWcuY3JlZGVudGlhbHMgPSBpbnB1dENyZWRlbnRpYWxzO1xuICBjb25zdCB7XG4gICAgLy8gRGVmYXVsdCBmb3Igc2lnbmluZ0VzY2FwZVBhdGhcbiAgICBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsXG4gICAgLy8gRGVmYXVsdCBmb3Igc3lzdGVtQ2xvY2tPZmZzZXRcbiAgICBzeXN0ZW1DbG9ja09mZnNldCA9IGNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLFxuICAgIC8vIE5vIGRlZmF1bHQgZm9yIHNoYTI1NiBzaW5jZSBpdCBpcyBwbGF0Zm9ybSBkZXBlbmRlbnRcbiAgICBzaGEyNTZcbiAgfSA9IGNvbmZpZztcbiAgbGV0IHNpZ25lcjtcbiAgaWYgKGNvbmZpZy5zaWduZXIpIHtcbiAgICBzaWduZXIgPSAoMCwgaW1wb3J0X2NvcmUyLm5vcm1hbGl6ZVByb3ZpZGVyKShjb25maWcuc2lnbmVyKTtcbiAgfSBlbHNlIGlmIChjb25maWcucmVnaW9uSW5mb1Byb3ZpZGVyKSB7XG4gICAgc2lnbmVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiAoMCwgaW1wb3J0X2NvcmUyLm5vcm1hbGl6ZVByb3ZpZGVyKShjb25maWcucmVnaW9uKSgpLnRoZW4oXG4gICAgICBhc3luYyAocmVnaW9uKSA9PiBbXG4gICAgICAgIGF3YWl0IGNvbmZpZy5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uLCB7XG4gICAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBhd2FpdCBjb25maWcudXNlRmlwc0VuZHBvaW50KCksXG4gICAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGF3YWl0IGNvbmZpZy51c2VEdWFsc3RhY2tFbmRwb2ludCgpXG4gICAgICAgIH0pIHx8IHt9LFxuICAgICAgICByZWdpb25cbiAgICAgIF1cbiAgICApLnRoZW4oKFtyZWdpb25JbmZvLCByZWdpb25dKSA9PiB7XG4gICAgICBjb25zdCB7IHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0gPSByZWdpb25JbmZvO1xuICAgICAgY29uZmlnLnNpZ25pbmdSZWdpb24gPSBjb25maWcuc2lnbmluZ1JlZ2lvbiB8fCBzaWduaW5nUmVnaW9uIHx8IHJlZ2lvbjtcbiAgICAgIGNvbmZpZy5zaWduaW5nTmFtZSA9IGNvbmZpZy5zaWduaW5nTmFtZSB8fCBzaWduaW5nU2VydmljZSB8fCBjb25maWcuc2VydmljZUlkO1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIGNyZWRlbnRpYWxzOiBjb25maWcuY3JlZGVudGlhbHMsXG4gICAgICAgIHJlZ2lvbjogY29uZmlnLnNpZ25pbmdSZWdpb24sXG4gICAgICAgIHNlcnZpY2U6IGNvbmZpZy5zaWduaW5nTmFtZSxcbiAgICAgICAgc2hhMjU2LFxuICAgICAgICB1cmlFc2NhcGVQYXRoOiBzaWduaW5nRXNjYXBlUGF0aFxuICAgICAgfTtcbiAgICAgIGNvbnN0IFNpZ25lckN0b3IgPSBjb25maWcuc2lnbmVyQ29uc3RydWN0b3IgfHwgaW1wb3J0X3NpZ25hdHVyZV92NC5TaWduYXR1cmVWNDtcbiAgICAgIHJldHVybiBuZXcgU2lnbmVyQ3RvcihwYXJhbXMpO1xuICAgIH0pLCBcInNpZ25lclwiKTtcbiAgfSBlbHNlIHtcbiAgICBzaWduZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChhdXRoU2NoZW1lKSA9PiB7XG4gICAgICBhdXRoU2NoZW1lID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcInNpZ3Y0XCIsXG4gICAgICAgICAgc2lnbmluZ05hbWU6IGNvbmZpZy5zaWduaW5nTmFtZSB8fCBjb25maWcuZGVmYXVsdFNpZ25pbmdOYW1lLFxuICAgICAgICAgIHNpZ25pbmdSZWdpb246IGF3YWl0ICgwLCBpbXBvcnRfY29yZTIubm9ybWFsaXplUHJvdmlkZXIpKGNvbmZpZy5yZWdpb24pKCksXG4gICAgICAgICAgcHJvcGVydGllczoge31cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aFNjaGVtZVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNpZ25pbmdSZWdpb24gPSBhdXRoU2NoZW1lLnNpZ25pbmdSZWdpb247XG4gICAgICBjb25zdCBzaWduaW5nU2VydmljZSA9IGF1dGhTY2hlbWUuc2lnbmluZ05hbWU7XG4gICAgICBjb25maWcuc2lnbmluZ1JlZ2lvbiA9IGNvbmZpZy5zaWduaW5nUmVnaW9uIHx8IHNpZ25pbmdSZWdpb247XG4gICAgICBjb25maWcuc2lnbmluZ05hbWUgPSBjb25maWcuc2lnbmluZ05hbWUgfHwgc2lnbmluZ1NlcnZpY2UgfHwgY29uZmlnLnNlcnZpY2VJZDtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBjcmVkZW50aWFsczogY29uZmlnLmNyZWRlbnRpYWxzLFxuICAgICAgICByZWdpb246IGNvbmZpZy5zaWduaW5nUmVnaW9uLFxuICAgICAgICBzZXJ2aWNlOiBjb25maWcuc2lnbmluZ05hbWUsXG4gICAgICAgIHNoYTI1NixcbiAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGhcbiAgICAgIH07XG4gICAgICBjb25zdCBTaWduZXJDdG9yID0gY29uZmlnLnNpZ25lckNvbnN0cnVjdG9yIHx8IGltcG9ydF9zaWduYXR1cmVfdjQuU2lnbmF0dXJlVjQ7XG4gICAgICByZXR1cm4gbmV3IFNpZ25lckN0b3IocGFyYW1zKTtcbiAgICB9LCBcInNpZ25lclwiKTtcbiAgfVxuICBjb25zdCByZXNvbHZlZENvbmZpZyA9IE9iamVjdC5hc3NpZ24oY29uZmlnLCB7XG4gICAgc3lzdGVtQ2xvY2tPZmZzZXQsXG4gICAgc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgc2lnbmVyXG4gIH0pO1xuICByZXR1cm4gcmVzb2x2ZWRDb25maWc7XG59LCBcInJlc29sdmVBd3NTZGtTaWdWNENvbmZpZ1wiKTtcbnZhciByZXNvbHZlQVdTU0RLU2lnVjRDb25maWcgPSByZXNvbHZlQXdzU2RrU2lnVjRDb25maWc7XG5mdW5jdGlvbiBub3JtYWxpemVDcmVkZW50aWFsUHJvdmlkZXIoY29uZmlnLCB7XG4gIGNyZWRlbnRpYWxzLFxuICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyXG59KSB7XG4gIGxldCBjcmVkZW50aWFsc1Byb3ZpZGVyO1xuICBpZiAoY3JlZGVudGlhbHMpIHtcbiAgICBpZiAoIWNyZWRlbnRpYWxzPy5tZW1vaXplZCkge1xuICAgICAgY3JlZGVudGlhbHNQcm92aWRlciA9ICgwLCBpbXBvcnRfY29yZTIubWVtb2l6ZUlkZW50aXR5UHJvdmlkZXIpKGNyZWRlbnRpYWxzLCBpbXBvcnRfY29yZTIuaXNJZGVudGl0eUV4cGlyZWQsIGltcG9ydF9jb3JlMi5kb2VzSWRlbnRpdHlSZXF1aXJlUmVmcmVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWRlbnRpYWxzUHJvdmlkZXIgPSBjcmVkZW50aWFscztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIpIHtcbiAgICAgIGNyZWRlbnRpYWxzUHJvdmlkZXIgPSAoMCwgaW1wb3J0X2NvcmUyLm5vcm1hbGl6ZVByb3ZpZGVyKShcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHtcbiAgICAgICAgICAgIHBhcmVudENsaWVudENvbmZpZzogY29uZmlnXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlZGVudGlhbHNQcm92aWRlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJAYXdzLXNkay9jb3JlOjpyZXNvbHZlQXdzU2RrU2lnVjRDb25maWcgLSBgY3JlZGVudGlhbHNgIG5vdCBwcm92aWRlZCBhbmQgbm8gY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB3YXMgY29uZmlndXJlZC5cIlxuICAgICAgICApO1xuICAgICAgfSwgXCJjcmVkZW50aWFsc1Byb3ZpZGVyXCIpO1xuICAgIH1cbiAgfVxuICBjcmVkZW50aWFsc1Byb3ZpZGVyLm1lbW9pemVkID0gdHJ1ZTtcbiAgcmV0dXJuIGNyZWRlbnRpYWxzUHJvdmlkZXI7XG59XG5fX25hbWUobm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyLCBcIm5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlclwiKTtcbmZ1bmN0aW9uIGJpbmRDYWxsZXJDb25maWcoY29uZmlnLCBjcmVkZW50aWFsc1Byb3ZpZGVyKSB7XG4gIGlmIChjcmVkZW50aWFsc1Byb3ZpZGVyLmNvbmZpZ0JvdW5kKSB7XG4gICAgcmV0dXJuIGNyZWRlbnRpYWxzUHJvdmlkZXI7XG4gIH1cbiAgY29uc3QgZm4gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChvcHRpb25zKSA9PiBjcmVkZW50aWFsc1Byb3ZpZGVyKHsgLi4ub3B0aW9ucywgY2FsbGVyQ2xpZW50Q29uZmlnOiBjb25maWcgfSksIFwiZm5cIik7XG4gIGZuLm1lbW9pemVkID0gY3JlZGVudGlhbHNQcm92aWRlci5tZW1vaXplZDtcbiAgZm4uY29uZmlnQm91bmQgPSB0cnVlO1xuICByZXR1cm4gZm47XG59XG5fX25hbWUoYmluZENhbGxlckNvbmZpZywgXCJiaW5kQ2FsbGVyQ29uZmlnXCIpO1xuLy8gQW5ub3RhdGUgdGhlIENvbW1vbkpTIGV4cG9ydCBuYW1lcyBmb3IgRVNNIGltcG9ydCBpbiBub2RlOlxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gIEFXU1NES1NpZ1Y0U2lnbmVyLFxuICBBd3NTZGtTaWdWNEFTaWduZXIsXG4gIEF3c1Nka1NpZ1Y0U2lnbmVyLFxuICBOT0RFX0FVVEhfU0NIRU1FX1BSRUZFUkVOQ0VfT1BUSU9OUyxcbiAgTk9ERV9TSUdWNEFfQ09ORklHX09QVElPTlMsXG4gIGdldEJlYXJlclRva2VuRW52S2V5LFxuICByZXNvbHZlQVdTU0RLU2lnVjRDb25maWcsXG4gIHJlc29sdmVBd3NTZGtTaWdWNEFDb25maWcsXG4gIHJlc29sdmVBd3NTZGtTaWdWNENvbmZpZyxcbiAgdmFsaWRhdGVTaWduaW5nUHJvcGVydGllc1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1osSUFBSUEsU0FBUyxHQUFHQyxNQUFNLENBQUNDLGNBQWM7QUFDckMsSUFBSUMsZ0JBQWdCLEdBQUdGLE1BQU0sQ0FBQ0csd0JBQXdCO0FBQ3RELElBQUlDLGlCQUFpQixHQUFHSixNQUFNLENBQUNLLG1CQUFtQjtBQUNsRCxJQUFJQyxZQUFZLEdBQUdOLE1BQU0sQ0FBQ08sU0FBUyxDQUFDQyxjQUFjO0FBQ2xELElBQUlDLE1BQU0sR0FB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QWlCLEVBQUVyQyxZQUFZLENBQUNzQywwQkFBMEIsQ0FBQztJQUN2SixDQUFDLE1BQU07TUFDTEgsbUJBQW1CLEdBQUdoQyxXQUFXO0lBQ25DO0VBQ0YsQ0FBQyxNQUFNO0lBQ0wsSUFBSU0seUJBQXlCLEVBQUU7TUFDN0IwQixtQkFBbUIsR0FBRyxDQUFDLENBQUMsRUFBRW5DLFlBQVksQ0FBQ1AsaUJBQWlCLEVBQ3REZ0IseUJBQXlCLENBQ3ZCNUksTUFBTSxDQUFDbUssTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFaEcsTUFBTSxFQUFFO1FBQ3hCdUcsa0JBQWtCLEVBQUV2RztNQUN0QixDQUFDLENBQ0gsQ0FDRixDQUFDO0lBQ0gsQ0FBQyxNQUFNO01BQ0xtRyxtQkFBbUIsR0FBRyxlQUFnQjdKLE1BQU0sQ0FBQyxZQUFZO1FBQ3ZELE1BQU0sSUFBSXVELEtBQUssQ0FDYix1SEFDRixDQUFDO01BQ0gsQ0FBQyxFQUFFLHFCQUFxQixDQUFDO0lBQzNCO0VBQ0Y7RUFDQXNHLG1CQUFtQixDQUFDbkIsUUFBUSxHQUFHLElBQUk7RUFDbkMsT0FBT21CLG1CQUFtQjtBQUM1QjtBQUNBN0osTUFBTSxDQUFDa0ksMkJBQTJCLEVBQUUsNkJBQTZCLENBQUM7QUFDbEUsU0FBU0csZ0JBQWdCQSxDQUFDM0UsTUFBTSxFQUFFbUcsbUJBQW1CLEVBQUU7RUFDckQsSUFBSUEsbUJBQW1CLENBQUNsQixXQUFXLEVBQUU7SUFDbkMsT0FBT2tCLG1CQUFtQjtFQUM1QjtFQUNBLE1BQU1LLEVBQUUsR0FBRyxlQUFnQmxLLE1BQU0sQ0FBQyxNQUFPNEcsT0FBTyxJQUFLaUQsbUJBQW1CLENBQUM7SUFBRSxHQUFHakQsT0FBTztJQUFFdUQsa0JBQWtCLEVBQUV6RztFQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQztFQUMzSHdHLEVBQUUsQ0FBQ3hCLFFBQVEsR0FBR21CLG1CQUFtQixDQUFDbkIsUUFBUTtFQUMxQ3dCLEVBQUUsQ0FBQ3ZCLFdBQVcsR0FBRyxJQUFJO0VBQ3JCLE9BQU91QixFQUFFO0FBQ1g7QUFDQWxLLE1BQU0sQ0FBQ3FJLGdCQUFnQixFQUFFLGtCQUFrQixDQUFDO0FBQzVDO0FBQ0EsQ0FBQyxLQUFLeEcsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDckJYLGlCQUFpQjtFQUNqQkMsa0JBQWtCO0VBQ2xCQyxpQkFBaUI7RUFDakJDLG1DQUFtQztFQUNuQ0MsMEJBQTBCO0VBQzFCQyxvQkFBb0I7RUFDcEJDLHdCQUF3QjtFQUN4QkMseUJBQXlCO0VBQ3pCQyx3QkFBd0I7RUFDeEJDO0FBQ0YsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119