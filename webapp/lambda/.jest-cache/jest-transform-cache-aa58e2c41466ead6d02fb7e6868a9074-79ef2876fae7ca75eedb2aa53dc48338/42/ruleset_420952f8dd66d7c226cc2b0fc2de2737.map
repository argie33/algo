{"version":3,"names":["Object","defineProperty","exports","value","ruleSet","s","t","u","v","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","_data","version","parameters","Region","UseDualStack","UseFIPS","Endpoint","rules","conditions","error","type","endpoint","url","properties","headers","assign"],"sources":["ruleset.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ruleSet = void 0;\nconst s = \"required\", t = \"fn\", u = \"argv\", v = \"ref\";\nconst a = true, b = \"isSet\", c = \"booleanEquals\", d = \"error\", e = \"endpoint\", f = \"tree\", g = \"PartitionResult\", h = { [s]: false, \"type\": \"String\" }, i = { [s]: true, \"default\": false, \"type\": \"Boolean\" }, j = { [v]: \"Endpoint\" }, k = { [t]: c, [u]: [{ [v]: \"UseFIPS\" }, true] }, l = { [t]: c, [u]: [{ [v]: \"UseDualStack\" }, true] }, m = {}, n = { [t]: \"getAttr\", [u]: [{ [v]: g }, \"supportsFIPS\"] }, o = { [t]: c, [u]: [true, { [t]: \"getAttr\", [u]: [{ [v]: g }, \"supportsDualStack\"] }] }, p = [k], q = [l], r = [{ [v]: \"Region\" }];\nconst _data = { version: \"1.0\", parameters: { Region: h, UseDualStack: i, UseFIPS: i, Endpoint: h }, rules: [{ conditions: [{ [t]: b, [u]: [j] }], rules: [{ conditions: p, error: \"Invalid Configuration: FIPS and custom endpoint are not supported\", type: d }, { conditions: q, error: \"Invalid Configuration: Dualstack and custom endpoint are not supported\", type: d }, { endpoint: { url: j, properties: m, headers: m }, type: e }], type: f }, { conditions: [{ [t]: b, [u]: r }], rules: [{ conditions: [{ [t]: \"aws.partition\", [u]: r, assign: g }], rules: [{ conditions: [k, l], rules: [{ conditions: [{ [t]: c, [u]: [a, n] }, o], rules: [{ endpoint: { url: \"https://lambda-fips.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: m, headers: m }, type: e }], type: f }, { error: \"FIPS and DualStack are enabled, but this partition does not support one or both\", type: d }], type: f }, { conditions: p, rules: [{ conditions: [{ [t]: c, [u]: [n, a] }], rules: [{ endpoint: { url: \"https://lambda-fips.{Region}.{PartitionResult#dnsSuffix}\", properties: m, headers: m }, type: e }], type: f }, { error: \"FIPS is enabled but this partition does not support FIPS\", type: d }], type: f }, { conditions: q, rules: [{ conditions: [o], rules: [{ endpoint: { url: \"https://lambda.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: m, headers: m }, type: e }], type: f }, { error: \"DualStack is enabled but this partition does not support DualStack\", type: d }], type: f }, { endpoint: { url: \"https://lambda.{Region}.{PartitionResult#dnsSuffix}\", properties: m, headers: m }, type: e }], type: f }], type: f }, { error: \"Invalid Configuration: Missing Region\", type: d }] };\nexports.ruleSet = _data;\n"],"mappings":"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","ignoreList":[]}