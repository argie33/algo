{"version":3,"names":["__defProp","Object","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__hasOwnProp","prototype","hasOwnProperty","__name","target","value","configurable","__export","all","name","get","enumerable","__copyProps","to","from","except","desc","key","call","__toCommonJS","mod","index_exports","XmlNode","XmlText","module","exports","escapeAttribute","replace","escapeElement","constructor","toString","_XmlNode","children","attributes","of","childText","withName","node","addChildNode","addAttribute","child","push","removeAttribute","n","c","a","cc","input","field","l","listName","memberName","valueProvider","nodes","map","lc","containerNode","hasChildren","Boolean","length","xmlText","attributeName","keys","attribute","join"],"sources":["index.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  XmlNode: () => XmlNode,\n  XmlText: () => XmlText\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// src/escape-attribute.ts\nfunction escapeAttribute(value) {\n  return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n}\n__name(escapeAttribute, \"escapeAttribute\");\n\n// src/escape-element.ts\nfunction escapeElement(value) {\n  return value.replace(/&/g, \"&amp;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&apos;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\\r/g, \"&#x0D;\").replace(/\\n/g, \"&#x0A;\").replace(/\\u0085/g, \"&#x85;\").replace(/\\u2028/, \"&#x2028;\");\n}\n__name(escapeElement, \"escapeElement\");\n\n// src/XmlText.ts\nvar XmlText = class {\n  constructor(value) {\n    this.value = value;\n  }\n  static {\n    __name(this, \"XmlText\");\n  }\n  toString() {\n    return escapeElement(\"\" + this.value);\n  }\n};\n\n// src/XmlNode.ts\nvar XmlNode = class _XmlNode {\n  constructor(name, children = []) {\n    this.name = name;\n    this.children = children;\n  }\n  static {\n    __name(this, \"XmlNode\");\n  }\n  attributes = {};\n  static of(name, childText, withName) {\n    const node = new _XmlNode(name);\n    if (childText !== void 0) {\n      node.addChildNode(new XmlText(childText));\n    }\n    if (withName !== void 0) {\n      node.withName(withName);\n    }\n    return node;\n  }\n  withName(name) {\n    this.name = name;\n    return this;\n  }\n  addAttribute(name, value) {\n    this.attributes[name] = value;\n    return this;\n  }\n  addChildNode(child) {\n    this.children.push(child);\n    return this;\n  }\n  removeAttribute(name) {\n    delete this.attributes[name];\n    return this;\n  }\n  /**\n   * @internal\n   * Alias of {@link XmlNode#withName(string)} for codegen brevity.\n   */\n  n(name) {\n    this.name = name;\n    return this;\n  }\n  /**\n   * @internal\n   * Alias of {@link XmlNode#addChildNode(string)} for codegen brevity.\n   */\n  c(child) {\n    this.children.push(child);\n    return this;\n  }\n  /**\n   * @internal\n   * Checked version of {@link XmlNode#addAttribute(string)} for codegen brevity.\n   */\n  a(name, value) {\n    if (value != null) {\n      this.attributes[name] = value;\n    }\n    return this;\n  }\n  /**\n   * Create a child node.\n   * Used in serialization of string fields.\n   * @internal\n   */\n  cc(input, field, withName = field) {\n    if (input[field] != null) {\n      const node = _XmlNode.of(field, input[field]).withName(withName);\n      this.c(node);\n    }\n  }\n  /**\n   * Creates list child nodes.\n   * @internal\n   */\n  l(input, listName, memberName, valueProvider) {\n    if (input[listName] != null) {\n      const nodes = valueProvider();\n      nodes.map((node) => {\n        node.withName(memberName);\n        this.c(node);\n      });\n    }\n  }\n  /**\n   * Creates list child nodes with container.\n   * @internal\n   */\n  lc(input, listName, memberName, valueProvider) {\n    if (input[listName] != null) {\n      const nodes = valueProvider();\n      const containerNode = new _XmlNode(memberName);\n      nodes.map((node) => {\n        containerNode.c(node);\n      });\n      this.c(containerNode);\n    }\n  }\n  toString() {\n    const hasChildren = Boolean(this.children.length);\n    let xmlText = `<${this.name}`;\n    const attributes = this.attributes;\n    for (const attributeName of Object.keys(attributes)) {\n      const attribute = attributes[attributeName];\n      if (attribute != null) {\n        xmlText += ` ${attributeName}=\"${escapeAttribute(\"\" + attribute)}\"`;\n      }\n    }\n    return xmlText += !hasChildren ? \"/>\" : `>${this.children.map((c) => c.toString()).join(\"\")}</${this.name}>`;\n  }\n};\n// Annotate the CommonJS export names for ESM import in node:\n\n0 && (module.exports = {\n  XmlNode,\n  XmlText\n});\n\n"],"mappings":"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","ignoreList":[]}