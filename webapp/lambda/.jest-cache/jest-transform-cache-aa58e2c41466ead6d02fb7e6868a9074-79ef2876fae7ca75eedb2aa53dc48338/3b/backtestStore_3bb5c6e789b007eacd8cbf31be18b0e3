2817eaf5538381771d8c7748ea583b16
/* istanbul ignore next */
function cov_1xdsp17c8n() {
  var path = "/home/stocks/algo/webapp/lambda/utils/backtestStore.js";
  var hash = "4103fa2861a536d319aea533830fc18ef81a99e0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/stocks/algo/webapp/lambda/utils/backtestStore.js",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 11
        },
        end: {
          line: 1,
          column: 24
        }
      },
      "1": {
        start: {
          line: 2,
          column: 13
        },
        end: {
          line: 2,
          column: 28
        }
      },
      "2": {
        start: {
          line: 4,
          column: 19
        },
        end: {
          line: 4,
          column: 70
        }
      },
      "3": {
        start: {
          line: 7,
          column: 2
        },
        end: {
          line: 7,
          column: 44
        }
      },
      "4": {
        start: {
          line: 7,
          column: 34
        },
        end: {
          line: 7,
          column: 44
        }
      },
      "5": {
        start: {
          line: 8,
          column: 2
        },
        end: {
          line: 8,
          column: 57
        }
      },
      "6": {
        start: {
          line: 12,
          column: 2
        },
        end: {
          line: 12,
          column: 68
        }
      },
      "7": {
        start: {
          line: 16,
          column: 21
        },
        end: {
          line: 16,
          column: 37
        }
      },
      "8": {
        start: {
          line: 17,
          column: 2
        },
        end: {
          line: 17,
          column: 38
        }
      },
      "9": {
        start: {
          line: 18,
          column: 2
        },
        end: {
          line: 18,
          column: 28
        }
      },
      "10": {
        start: {
          line: 19,
          column: 2
        },
        end: {
          line: 19,
          column: 29
        }
      },
      "11": {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 20,
          column: 18
        }
      },
      "12": {
        start: {
          line: 24,
          column: 2
        },
        end: {
          line: 24,
          column: 49
        }
      },
      "13": {
        start: {
          line: 24,
          column: 36
        },
        end: {
          line: 24,
          column: 47
        }
      },
      "14": {
        start: {
          line: 28,
          column: 19
        },
        end: {
          line: 28,
          column: 35
        }
      },
      "15": {
        start: {
          line: 29,
          column: 2
        },
        end: {
          line: 29,
          column: 51
        }
      },
      "16": {
        start: {
          line: 29,
          column: 38
        },
        end: {
          line: 29,
          column: 49
        }
      },
      "17": {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 30,
          column: 29
        }
      },
      "18": {
        start: {
          line: 33,
          column: 0
        },
        end: {
          line: 39,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "loadStrategies",
        decl: {
          start: {
            line: 6,
            column: 9
          },
          end: {
            line: 6,
            column: 23
          }
        },
        loc: {
          start: {
            line: 6,
            column: 26
          },
          end: {
            line: 9,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "saveStrategies",
        decl: {
          start: {
            line: 11,
            column: 9
          },
          end: {
            line: 11,
            column: 23
          }
        },
        loc: {
          start: {
            line: 11,
            column: 36
          },
          end: {
            line: 13,
            column: 1
          }
        },
        line: 11
      },
      "2": {
        name: "addStrategy",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 20
          }
        },
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 21,
            column: 1
          }
        },
        line: 15
      },
      "3": {
        name: "getStrategy",
        decl: {
          start: {
            line: 23,
            column: 9
          },
          end: {
            line: 23,
            column: 20
          }
        },
        loc: {
          start: {
            line: 23,
            column: 25
          },
          end: {
            line: 25,
            column: 1
          }
        },
        line: 23
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 24,
            column: 31
          },
          end: {
            line: 24,
            column: 32
          }
        },
        loc: {
          start: {
            line: 24,
            column: 36
          },
          end: {
            line: 24,
            column: 47
          }
        },
        line: 24
      },
      "5": {
        name: "deleteStrategy",
        decl: {
          start: {
            line: 27,
            column: 9
          },
          end: {
            line: 27,
            column: 23
          }
        },
        loc: {
          start: {
            line: 27,
            column: 28
          },
          end: {
            line: 31,
            column: 1
          }
        },
        line: 27
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 29,
            column: 33
          },
          end: {
            line: 29,
            column: 34
          }
        },
        loc: {
          start: {
            line: 29,
            column: 38
          },
          end: {
            line: 29,
            column: 49
          }
        },
        line: 29
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 7,
            column: 44
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 7,
            column: 2
          },
          end: {
            line: 7,
            column: 44
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 7
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "4103fa2861a536d319aea533830fc18ef81a99e0"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1xdsp17c8n = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1xdsp17c8n();
const fs =
/* istanbul ignore next */
(cov_1xdsp17c8n().s[0]++, require('fs'));
const path =
/* istanbul ignore next */
(cov_1xdsp17c8n().s[1]++, require('path'));
const STORE_FILE =
/* istanbul ignore next */
(cov_1xdsp17c8n().s[2]++, path.join(__dirname, '../user_backtest_store.json'));
function loadStrategies() {
  /* istanbul ignore next */
  cov_1xdsp17c8n().f[0]++;
  cov_1xdsp17c8n().s[3]++;
  if (!fs.existsSync(STORE_FILE)) {
    /* istanbul ignore next */
    cov_1xdsp17c8n().b[0][0]++;
    cov_1xdsp17c8n().s[4]++;
    return [];
  } else
  /* istanbul ignore next */
  {
    cov_1xdsp17c8n().b[0][1]++;
  }
  cov_1xdsp17c8n().s[5]++;
  return JSON.parse(fs.readFileSync(STORE_FILE, 'utf8'));
}
function saveStrategies(strategies) {
  /* istanbul ignore next */
  cov_1xdsp17c8n().f[1]++;
  cov_1xdsp17c8n().s[6]++;
  fs.writeFileSync(STORE_FILE, JSON.stringify(strategies, null, 2));
}
function addStrategy(strategy) {
  /* istanbul ignore next */
  cov_1xdsp17c8n().f[2]++;
  const strategies =
  /* istanbul ignore next */
  (cov_1xdsp17c8n().s[7]++, loadStrategies());
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[8]++;
  strategy.id = Date.now().toString();
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[9]++;
  strategies.push(strategy);
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[10]++;
  saveStrategies(strategies);
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[11]++;
  return strategy;
}
function getStrategy(id) {
  /* istanbul ignore next */
  cov_1xdsp17c8n().f[3]++;
  cov_1xdsp17c8n().s[12]++;
  return loadStrategies().find(s => {
    /* istanbul ignore next */
    cov_1xdsp17c8n().f[4]++;
    cov_1xdsp17c8n().s[13]++;
    return s.id === id;
  });
}
function deleteStrategy(id) {
  /* istanbul ignore next */
  cov_1xdsp17c8n().f[5]++;
  let strategies =
  /* istanbul ignore next */
  (cov_1xdsp17c8n().s[14]++, loadStrategies());
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[15]++;
  strategies = strategies.filter(s => {
    /* istanbul ignore next */
    cov_1xdsp17c8n().f[6]++;
    cov_1xdsp17c8n().s[16]++;
    return s.id !== id;
  });
  /* istanbul ignore next */
  cov_1xdsp17c8n().s[17]++;
  saveStrategies(strategies);
}
/* istanbul ignore next */
cov_1xdsp17c8n().s[18]++;
module.exports = {
  loadStrategies,
  saveStrategies,
  addStrategy,
  getStrategy,
  deleteStrategy
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXhkc3AxN2M4biIsImFjdHVhbENvdmVyYWdlIiwiZnMiLCJzIiwicmVxdWlyZSIsInBhdGgiLCJTVE9SRV9GSUxFIiwiam9pbiIsIl9fZGlybmFtZSIsImxvYWRTdHJhdGVnaWVzIiwiZiIsImV4aXN0c1N5bmMiLCJiIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwic2F2ZVN0cmF0ZWdpZXMiLCJzdHJhdGVnaWVzIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImFkZFN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInB1c2giLCJnZXRTdHJhdGVneSIsImZpbmQiLCJkZWxldGVTdHJhdGVneSIsImZpbHRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJiYWNrdGVzdFN0b3JlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmNvbnN0IFNUT1JFX0ZJTEUgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vdXNlcl9iYWNrdGVzdF9zdG9yZS5qc29uJyk7XG5cbmZ1bmN0aW9uIGxvYWRTdHJhdGVnaWVzKCkge1xuICBpZiAoIWZzLmV4aXN0c1N5bmMoU1RPUkVfRklMRSkpIHJldHVybiBbXTtcbiAgcmV0dXJuIEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKFNUT1JFX0ZJTEUsICd1dGY4JykpO1xufVxuXG5mdW5jdGlvbiBzYXZlU3RyYXRlZ2llcyhzdHJhdGVnaWVzKSB7XG4gIGZzLndyaXRlRmlsZVN5bmMoU1RPUkVfRklMRSwgSlNPTi5zdHJpbmdpZnkoc3RyYXRlZ2llcywgbnVsbCwgMikpO1xufVxuXG5mdW5jdGlvbiBhZGRTdHJhdGVneShzdHJhdGVneSkge1xuICBjb25zdCBzdHJhdGVnaWVzID0gbG9hZFN0cmF0ZWdpZXMoKTtcbiAgc3RyYXRlZ3kuaWQgPSBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XG4gIHN0cmF0ZWdpZXMucHVzaChzdHJhdGVneSk7XG4gIHNhdmVTdHJhdGVnaWVzKHN0cmF0ZWdpZXMpO1xuICByZXR1cm4gc3RyYXRlZ3k7XG59XG5cbmZ1bmN0aW9uIGdldFN0cmF0ZWd5KGlkKSB7XG4gIHJldHVybiBsb2FkU3RyYXRlZ2llcygpLmZpbmQocyA9PiBzLmlkID09PSBpZCk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVN0cmF0ZWd5KGlkKSB7XG4gIGxldCBzdHJhdGVnaWVzID0gbG9hZFN0cmF0ZWdpZXMoKTtcbiAgc3RyYXRlZ2llcyA9IHN0cmF0ZWdpZXMuZmlsdGVyKHMgPT4gcy5pZCAhPT0gaWQpO1xuICBzYXZlU3RyYXRlZ2llcyhzdHJhdGVnaWVzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGxvYWRTdHJhdGVnaWVzLFxuICBzYXZlU3RyYXRlZ2llcyxcbiAgYWRkU3RyYXRlZ3ksXG4gIGdldFN0cmF0ZWd5LFxuICBkZWxldGVTdHJhdGVneVxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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