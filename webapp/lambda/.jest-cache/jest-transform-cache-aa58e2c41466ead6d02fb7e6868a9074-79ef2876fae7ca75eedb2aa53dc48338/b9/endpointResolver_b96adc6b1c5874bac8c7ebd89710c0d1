ae6547abbea19d1dce4215569043f152
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defaultEndpointResolver = void 0;
const util_endpoints_1 = require("@aws-sdk/util-endpoints");
const util_endpoints_2 = require("@smithy/util-endpoints");
const ruleset_1 = require("./ruleset");
const cache = new util_endpoints_2.EndpointCache({
  size: 50,
  params: ["Endpoint", "Region", "UseDualStack", "UseFIPS"]
});
const defaultEndpointResolver = (endpointParams, context = {}) => {
  return cache.get(endpointParams, () => (0, util_endpoints_2.resolveEndpoint)(ruleset_1.ruleSet, {
    endpointParams: endpointParams,
    logger: context.logger
  }));
};
exports.defaultEndpointResolver = defaultEndpointResolver;
util_endpoints_2.customEndpointFunctions.aws = util_endpoints_1.awsEndpointFunctions;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHRFbmRwb2ludFJlc29sdmVyIiwidXRpbF9lbmRwb2ludHNfMSIsInJlcXVpcmUiLCJ1dGlsX2VuZHBvaW50c18yIiwicnVsZXNldF8xIiwiY2FjaGUiLCJFbmRwb2ludENhY2hlIiwic2l6ZSIsInBhcmFtcyIsImVuZHBvaW50UGFyYW1zIiwiY29udGV4dCIsImdldCIsInJlc29sdmVFbmRwb2ludCIsInJ1bGVTZXQiLCJsb2dnZXIiLCJjdXN0b21FbmRwb2ludEZ1bmN0aW9ucyIsImF3cyIsImF3c0VuZHBvaW50RnVuY3Rpb25zIl0sInNvdXJjZXMiOlsiZW5kcG9pbnRSZXNvbHZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSB2b2lkIDA7XG5jb25zdCB1dGlsX2VuZHBvaW50c18xID0gcmVxdWlyZShcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCIpO1xuY29uc3QgdXRpbF9lbmRwb2ludHNfMiA9IHJlcXVpcmUoXCJAc21pdGh5L3V0aWwtZW5kcG9pbnRzXCIpO1xuY29uc3QgcnVsZXNldF8xID0gcmVxdWlyZShcIi4vcnVsZXNldFwiKTtcbmNvbnN0IGNhY2hlID0gbmV3IHV0aWxfZW5kcG9pbnRzXzIuRW5kcG9pbnRDYWNoZSh7XG4gICAgc2l6ZTogNTAsXG4gICAgcGFyYW1zOiBbXCJFbmRwb2ludFwiLCBcIlJlZ2lvblwiLCBcIlVzZUR1YWxTdGFja1wiLCBcIlVzZUZJUFNcIl0sXG59KTtcbmNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gY2FjaGUuZ2V0KGVuZHBvaW50UGFyYW1zLCAoKSA9PiAoMCwgdXRpbF9lbmRwb2ludHNfMi5yZXNvbHZlRW5kcG9pbnQpKHJ1bGVzZXRfMS5ydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KSk7XG59O1xuZXhwb3J0cy5kZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyO1xudXRpbF9lbmRwb2ludHNfMi5jdXN0b21FbmRwb2ludEZ1bmN0aW9ucy5hd3MgPSB1dGlsX2VuZHBvaW50c18xLmF3c0VuZHBvaW50RnVuY3Rpb25zO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUNaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUFFQyxLQUFLLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFDN0RELE9BQU8sQ0FBQ0UsdUJBQXVCLEdBQUcsS0FBSyxDQUFDO0FBQ3hDLE1BQU1DLGdCQUFnQixHQUFHQyxPQUFPLENBQUMseUJBQXlCLENBQUM7QUFDM0QsTUFBTUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUMxRCxNQUFNRSxTQUFTLEdBQUdGLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDdEMsTUFBTUcsS0FBSyxHQUFHLElBQUlGLGdCQUFnQixDQUFDRyxhQUFhLENBQUM7RUFDN0NDLElBQUksRUFBRSxFQUFFO0VBQ1JDLE1BQU0sRUFBRSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLFNBQVM7QUFDNUQsQ0FBQyxDQUFDO0FBQ0YsTUFBTVIsdUJBQXVCLEdBQUdBLENBQUNTLGNBQWMsRUFBRUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLO0VBQzlELE9BQU9MLEtBQUssQ0FBQ00sR0FBRyxDQUFDRixjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUMsRUFBRU4sZ0JBQWdCLENBQUNTLGVBQWUsRUFBRVIsU0FBUyxDQUFDUyxPQUFPLEVBQUU7SUFDNUZKLGNBQWMsRUFBRUEsY0FBYztJQUM5QkssTUFBTSxFQUFFSixPQUFPLENBQUNJO0VBQ3BCLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUNEaEIsT0FBTyxDQUFDRSx1QkFBdUIsR0FBR0EsdUJBQXVCO0FBQ3pERyxnQkFBZ0IsQ0FBQ1ksdUJBQXVCLENBQUNDLEdBQUcsR0FBR2YsZ0JBQWdCLENBQUNnQixvQkFBb0IiLCJpZ25vcmVMaXN0IjpbXX0=