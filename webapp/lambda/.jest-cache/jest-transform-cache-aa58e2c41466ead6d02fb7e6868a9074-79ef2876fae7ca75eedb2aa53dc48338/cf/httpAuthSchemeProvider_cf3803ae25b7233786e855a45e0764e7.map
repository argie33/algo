{"version":3,"names":["Object","defineProperty","exports","value","resolveHttpAuthSchemeConfig","defaultECSHttpAuthSchemeProvider","defaultECSHttpAuthSchemeParametersProvider","core_1","require","util_middleware_1","config","context","input","operation","getSmithyContext","region","normalizeProvider","Error","createAwsAuthSigv4HttpAuthOption","authParameters","schemeId","signingProperties","name","propertiesExtractor","options","push","config_0","resolveAwsSdkSigV4Config","assign","authSchemePreference"],"sources":["httpAuthSchemeProvider.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveHttpAuthSchemeConfig = exports.defaultECSHttpAuthSchemeProvider = exports.defaultECSHttpAuthSchemeParametersProvider = void 0;\nconst core_1 = require(\"@aws-sdk/core\");\nconst util_middleware_1 = require(\"@smithy/util-middleware\");\nconst defaultECSHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: (0, util_middleware_1.getSmithyContext)(context).operation,\n        region: (await (0, util_middleware_1.normalizeProvider)(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nexports.defaultECSHttpAuthSchemeParametersProvider = defaultECSHttpAuthSchemeParametersProvider;\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"ecs\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nconst defaultECSHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexports.defaultECSHttpAuthSchemeProvider = defaultECSHttpAuthSchemeProvider;\nconst resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = (0, core_1.resolveAwsSdkSigV4Config)(config);\n    return Object.assign(config_0, {\n        authSchemePreference: (0, util_middleware_1.normalizeProvider)(config.authSchemePreference ?? []),\n    });\n};\nexports.resolveHttpAuthSchemeConfig = resolveHttpAuthSchemeConfig;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,2BAA2B,GAAGF,OAAO,CAACG,gCAAgC,GAAGH,OAAO,CAACI,0CAA0C,GAAG,KAAK,CAAC;AAC5I,MAAMC,MAAM,GAAGC,OAAO,CAAC,eAAe,CAAC;AACvC,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAC5D,MAAMF,0CAA0C,GAAG,MAAAA,CAAOI,MAAM,EAAEC,OAAO,EAAEC,KAAK,KAAK;EACjF,OAAO;IACHC,SAAS,EAAE,CAAC,CAAC,EAAEJ,iBAAiB,CAACK,gBAAgB,EAAEH,OAAO,CAAC,CAACE,SAAS;IACrEE,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,EAAEN,iBAAiB,CAACO,iBAAiB,EAAEN,MAAM,CAACK,MAAM,CAAC,CAAC,CAAC,KACpE,CAAC,MAAM;MACH,MAAM,IAAIE,KAAK,CAAC,yDAAyD,CAAC;IAC9E,CAAC,EAAE;EACX,CAAC;AACL,CAAC;AACDf,OAAO,CAACI,0CAA0C,GAAGA,0CAA0C;AAC/F,SAASY,gCAAgCA,CAACC,cAAc,EAAE;EACtD,OAAO;IACHC,QAAQ,EAAE,gBAAgB;IAC1BC,iBAAiB,EAAE;MACfC,IAAI,EAAE,KAAK;MACXP,MAAM,EAAEI,cAAc,CAACJ;IAC3B,CAAC;IACDQ,mBAAmB,EAAEA,CAACb,MAAM,EAAEC,OAAO,MAAM;MACvCU,iBAAiB,EAAE;QACfX,MAAM;QACNC;MACJ;IACJ,CAAC;EACL,CAAC;AACL;AACA,MAAMN,gCAAgC,GAAIc,cAAc,IAAK;EACzD,MAAMK,OAAO,GAAG,EAAE;EAClB,QAAQL,cAAc,CAACN,SAAS;IAC5B;MAAS;QACLW,OAAO,CAACC,IAAI,CAACP,gCAAgC,CAACC,cAAc,CAAC,CAAC;MAClE;EACJ;EACA,OAAOK,OAAO;AAClB,CAAC;AACDtB,OAAO,CAACG,gCAAgC,GAAGA,gCAAgC;AAC3E,MAAMD,2BAA2B,GAAIM,MAAM,IAAK;EAC5C,MAAMgB,QAAQ,GAAG,CAAC,CAAC,EAAEnB,MAAM,CAACoB,wBAAwB,EAAEjB,MAAM,CAAC;EAC7D,OAAOV,MAAM,CAAC4B,MAAM,CAACF,QAAQ,EAAE;IAC3BG,oBAAoB,EAAE,CAAC,CAAC,EAAEpB,iBAAiB,CAACO,iBAAiB,EAAEN,MAAM,CAACmB,oBAAoB,IAAI,EAAE;EACpG,CAAC,CAAC;AACN,CAAC;AACD3B,OAAO,CAACE,2BAA2B,GAAGA,2BAA2B","ignoreList":[]}