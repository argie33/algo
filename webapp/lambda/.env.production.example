# ================================================================
# AWS PRODUCTION ENVIRONMENT CONFIGURATION
# ================================================================
# This is a TEMPLATE - Copy to .env.production and fill in your values
# DO NOT commit actual secrets to git
# ================================================================

# ================================================================
# DATABASE CONFIGURATION - AWS SECRETS MANAGER
# ================================================================
# In production, Lambda fetches database credentials from AWS Secrets Manager
# rather than environment variables for better security

DB_SECRET_ARN=arn:aws:secretsmanager:us-east-1:626216981288:secret:stocks/rds/credentials-xxxxx

# FALLBACK: Only used if DB_SECRET_ARN is empty (for development)
DB_HOST=stocks-db.xxxxx.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_USER=stocks
DB_PASSWORD=your-secure-password
DB_NAME=stocks
DB_SSL=true

# ================================================================
# AWS LAMBDA VPC CONFIGURATION
# ================================================================
# Lambda must run in private subnets to access RDS in VPC

AWS_SECURITY_GROUP_ID=sg-xxxxxxxxxxxxx
AWS_SUBNET_ID_1=subnet-xxxxxxxxxxxxx
AWS_SUBNET_ID_2=subnet-xxxxxxxxxxxxx
AWS_REGION=us-east-1

# ================================================================
# LAMBDA RUNTIME CONFIGURATION
# ================================================================
NODE_ENV=production
AWS_LAMBDA_FUNCTION_NAME=stocks-algo-api-dev-api
AWS_LAMBDA_FUNCTION_VERSION=$LATEST

# ================================================================
# EMAIL CONFIGURATION
# ================================================================
# Used for contact form and notifications

CONTACT_NOTIFICATION_EMAIL=edgebrookecapital@gmail.com
EMAIL_FROM=noreply@bullseyefinancial.com

# ================================================================
# API CONFIGURATION
# ================================================================
# CORS settings, rate limiting, etc.

API_GATEWAY_STAGE=dev
API_TIMEOUT_MS=60000
CORS_ORIGINS=*

# ================================================================
# LOGGING CONFIGURATION
# ================================================================
# CloudWatch logs are automatically created by Lambda
# Set to true for detailed debug logging

DEBUG=false
LOG_LEVEL=info

# ================================================================
# THIRD-PARTY SERVICES
# ================================================================

# Alpaca Trading API (optional - for trade execution)
ALPACA_API_KEY=your-alpaca-key
ALPACA_SECRET_KEY=your-alpaca-secret
ALPACA_MODE=paper  # paper or live

# ================================================================
# MONITORING & ALERTS
# ================================================================

SENTRY_DSN=https://your-sentry-dsn
DATADOG_API_KEY=your-datadog-key

# ================================================================
# NOTE FOR AWS DEPLOYMENT
# ================================================================
# To deploy with these values:
# 1. Fill in all xxxxx placeholders with your actual AWS resource IDs
# 2. Create AWS Secrets Manager secret with RDS credentials
# 3. Export environment variables:
#    export DB_SECRET_ARN="arn:aws:secretsmanager:..."
#    export AWS_SECURITY_GROUP_ID="sg-..."
#    export AWS_SUBNET_ID_1="subnet-..."
#    export AWS_SUBNET_ID_2="subnet-..."
# 4. Deploy: serverless deploy --stage dev --region us-east-1
# ================================================================
