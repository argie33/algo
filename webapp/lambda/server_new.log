
> financial-dashboard-lambda@1.0.0 start
> node index.js

Cognito environment variables not set - JWT verification disabled
Initializing database connection pool...
Getting DB credentials from Secrets Manager...
üöÄ Real-Time Data Service initialized
üö® Alert System initialized
üìä Monitoring started
üîç Alert monitoring started
üö® Alert system integration initialized
üéõÔ∏è Live Data Manager initialized
Financial Dashboard API server running on port 3003 (local mode)
Health check: http://localhost:3003/health
Stocks: http://localhost:3003/stocks
Technical: http://localhost:3003/technical/daily
Failed to get secrets from Secrets Manager, falling back to environment variables: Invalid name. Must be a valid name containing alphanumeric characters, or any of the following: -/_+=.@!
Using database config from environment variables
Database config loaded from environment: localhost:5432/stocks
‚úÖ Database connection pool initialized successfully
Initializing database schema...
Database query error: {
  error: 'column "sector" does not exist',
  query: 'CREATE TABLE IF NOT EXISTS stock_symbols (\n' +
    '  symbol VARCHAR(10) NOT NULL PRIMARY KEY,\n' +
    '  name VARCHAR...',
  params: []
}
‚ö†Ô∏è  Warning creating table stock_symbols: column "sector" does not exist
Database query error: {
  error: 'column "symbol" does not exist',
  query: 'CREATE TABLE IF NOT EXISTS market_data (\n' +
    '  symbol VARCHAR(20) NOT NULL,\n' +
    '  name VARCHAR(255),\n' +
    '  date ...',
  params: []
}
‚ö†Ô∏è  Warning creating table market_data: column "symbol" does not exist
‚úÖ Created/verified table: price_daily
Database query error: {
  error: 'column "exchange" does not exist',
  query: 'CREATE TABLE IF NOT EXISTS company_profile (\n' +
    '  ticker VARCHAR(10) NOT NULL PRIMARY KEY,\n' +
    '  name VARCH...',
  params: []
}
‚ö†Ô∏è  Warning creating table company_profile: column "exchange" does not exist
‚úÖ Created/verified table: earnings_reports
‚úÖ Created/verified table: fear_greed_index
‚úÖ Created/verified table: aaii_sentiment
‚úÖ Created/verified table: naaim
Database query error: {
  error: 'column "indicator" does not exist',
  query: 'CREATE TABLE IF NOT EXISTS economic_data (\n' +
    '  id SERIAL PRIMARY KEY,\n' +
    '  indicator VARCHAR(50) NOT NULL...',
  params: []
}
‚ö†Ô∏è  Warning creating table economic_data: column "indicator" does not exist
‚úÖ Created/verified table: comprehensive_scores
‚úÖ Created/verified table: user_api_keys
‚úÖ Created/verified table: portfolio_metadata
‚úÖ Created/verified table: portfolio_holdings
‚úÖ Created/verified table: portfolio_performance
‚úÖ Created/verified table: portfolio_transactions
‚úÖ Created/verified table: trading_alerts
‚úÖ Created/verified table: stocks
‚úÖ Created/verified table: stock_prices
‚úÖ Created/verified table: watchlists
‚úÖ Created/verified table: watchlist_items
‚úÖ Created/verified table: technical_data_daily
‚úÖ Created/verified table: technical_data_weekly
‚úÖ Created/verified table: technical_data_monthly
‚úÖ Created/verified table: user_profiles
‚úÖ Database schema initialization completed
Processing request: GET /api/technical/daily
Initializing database connection...
Database connection established successfully
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:03:06:44 +0000] "GET /api/technical/daily?page=1&limit=10&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 2346 "-" "curl/8.5.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:03:08:15 +0000] "GET /api/technical/daily?page=1&limit=10&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 2346 "http://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:03:08:24 +0000] "GET /api/technical/daily?page=1&limit=10&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 2346 "http://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:03:08:34 +0000] "GET /api/technical/daily?page=1&limit=10&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 2346 "http://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
Processing request: GET /api/stocks
Database connection verified for database-dependent endpoint
üîß Development mode: Using dev-bypass-token for authentication
OPTIMIZED Stocks main endpoint called with params: { page: '1', limit: '25', sortBy: 'symbol', sortOrder: 'asc' }
Triggering workflow deploy
OPTIMIZED query params: { whereClause: 'WHERE 1=1', params: [], limit: 50, offset: 0 }
Executing FAST queries with schema validation...
FAST query results: 42 stocks, 42 total
::1 - - [03/Sep/2025:03:08:34 +0000] "GET /api/stocks?page=1&limit=25&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 38938 "http://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:03:08:49 +0000] "GET /api/technical/daily?page=1&limit=10&sortBy=symbol&sortOrder=asc HTTP/1.1" 200 2346 "http://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:10:46:10 +0000] "GET /api/technical/daily?page=1&limit=5 HTTP/1.1" 200 2345 "-" "curl/8.5.0"
Processing request: GET /api/technical/daily
Database connection verified for database-dependent endpoint
::1 - - [03/Sep/2025:10:46:16 +0000] "GET /api/technical/daily?page=1&limit=2 HTTP/1.1" 200 1146 "-" "curl/8.5.0"
